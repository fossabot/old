/*! For license information please see is-in-viewport.js.LICENSE.txt */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(require("jquery"),require("window")):"function"==typeof define&&define.amd?define("isInViewport",["jquery","window"],n):n(e.$,e.window)}(this,(function(e,n){"use strict";function t(o,r){var i=o.getBoundingClientRect(),a=i.top,u=i.bottom,c=i.left,f=i.right,l=e.extend({tolerance:0,viewport:n},r),d=!1,s=l.viewport.jquery?l.viewport:e(l.viewport);s.length||(console.warn("isInViewport: The viewport selector you have provided matches no element on page."),console.warn("isInViewport: Defaulting to viewport as window"),s=e(n));var p=s.height(),w=s.width(),h=s[0].toString();if(s[0]!==n&&"[object Window]"!==h&&"[object DOMWindow]"!==h){var v=s[0].getBoundingClientRect();a-=v.top,u-=v.top,c-=v.left,f-=v.left,t.scrollBarWidth=t.scrollBarWidth||function(n){var t=e("<div></div>").css({width:"100%"});n.append(t);var o=n.width()-t.width();return t.remove(),o}(s),w-=t.scrollBarWidth}return l.tolerance=~~Math.round(parseFloat(l.tolerance)),l.tolerance<0&&(l.tolerance=p+l.tolerance),f<=0||c>=w?d:d=l.tolerance?a<=l.tolerance&&u>=l.tolerance:u>0&&a<=p}function o(n){if(n){var t=n.split(",");return 1===t.length&&isNaN(t[0])&&(t[1]=t[0],t[0]=void 0),{tolerance:t[0]?t[0].trim():void 0,viewport:t[1]?e(t[1].trim()):void 0}}return{}}e="default"in e?e.default:e,n="default"in n?n.default:n,e.extend(e.expr[":"],{"in-viewport":e.expr.createPseudo?e.expr.createPseudo((function(e){return function(n){return t(n,o(e))}})):function(e,n,r){return t(e,o(r[3]))}}),e.fn.isInViewport=function(e){return this.filter((function(n,o){return t(o,e)}))},e.fn.run=function(n){var t=this;if(1===arguments.length&&"function"==typeof n&&(n=[n]),!(n instanceof Array))throw new SyntaxError("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions");return n.forEach((function(n){"function"!=typeof n?(console.warn("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions"),console.warn("isInViewport: Ignoring non-function values in array and moving on")):[].slice.call(t).forEach((function(t){return n.call(e(t))}))})),this}}));