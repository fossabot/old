const EStore=require("electron-store"),estore=new EStore;window.StickersModule={},window.StickersModule.Libs={},function(e){var t=function(){function e(e,t,d){for(var n in d=d||!1,t)"_constructor"===n&&!d||"typeOf"===n||"mixin"===n||"static"===n||"extend"===n||(e[n]=t[n])}return function(t){var d=!1;return function t(n,i){var r,u=[],o=i.hasOwnProperty("singleton")&&i.singleton,c=function(){if("function"==typeof this._constructor&&!1===d&&this._constructor.apply(this,arguments),i.hasOwnProperty("get"))for(var e in i.get)null===("set"in i&&e in i.set?i.set[e]:null)&&Object.defineProperty(this,e,{get:i.get[e]});if(i.hasOwnProperty("set"))for(var e in i.set)null!==("get"in i&&e in i.get?i.get[e]:null)?Object.defineProperty(this,e,{set:i.set[e],get:i.get[e]}):Object.defineProperty(this,e,{set:i.set[e]});if(o&&void 0!==this)throw new Error("Singleton object cannot have more than one instance, call instance method instead");this.constructor=c};null!==n&&(d=!0,c.prototype=new n,d=!1);var s=c.prototype;return s.typeOf=function(e){if("object"==typeof e)return u.indexOf(e)>=0;if("function"==typeof e){if(this instanceof e)return!0;if(u.indexOf(e)>=0)return!0}return!1},"function"==typeof i&&(i=i()),e(s,i,!0),c.static=function(e){return function(e,t){for(var d in t)if("extend"!==d&&"static"!==d&&"typeOf"!==d&&"mixin"!==d){if("object"==typeof t[d]||"function"==typeof t[d])return void(e[d]=t[d]);d===d.toUpperCase()?(Object.defineProperty(e,d,{writable:!1,configurable:!1,enumerable:!0,value:t[d]}),Object.defineProperty(e.prototype,d,{writable:!1,configurable:!1,enumerable:!0,value:t[d]})):(Object.defineProperty(e,d,{get:function(){return t[d]},set:function(e){t[d]=e}}),Object.defineProperty(e.prototype,d,{get:function(){return t[d]},set:function(e){t[d]=e}}))}}(c,e),c},c.mixin=function(){for(var t=0,d=arguments.length;t<d;t++){var n=arguments[t];if("function"==typeof n)var i=n.prototype;else{if("object"!=typeof n)throw new Error("js.class mixin method accepts only types: object, function - `"+typeof n+"` type given");i=n}e(s,i,!1),u.push(n)}return c},o?(c.extend=function(){throw new Error("Singleton class cannot be extended")},c.instance=function(){return r||(o=!1,r=new c,o=!0),r}):c.extend=function(e){return t(this,e)},c}(null,t)}}();"undefined"!=typeof module?module.exports=t:e.Libs.Class=t}(window.StickersModule),window.StickersModule.Libs.MD5=function(e){function t(e,t){return e<<t|e>>>32-t}function d(e,t){var d,n,i,r,u;return i=2147483648&e,r=2147483648&t,u=(1073741823&e)+(1073741823&t),(d=1073741824&e)&(n=1073741824&t)?2147483648^u^i^r:d|n?1073741824&u?3221225472^u^i^r:1073741824^u^i^r:u^i^r}function n(e,n,i,r,u,o,c){return e=d(e,d(d(function(e,t,d){return e&t|~e&d}(n,i,r),u),c)),d(t(e,o),n)}function i(e,n,i,r,u,o,c){return e=d(e,d(d(function(e,t,d){return e&d|t&~d}(n,i,r),u),c)),d(t(e,o),n)}function r(e,n,i,r,u,o,c){return e=d(e,d(d(function(e,t,d){return e^t^d}(n,i,r),u),c)),d(t(e,o),n)}function u(e,n,i,r,u,o,c){return e=d(e,d(d(function(e,t,d){return t^(e|~d)}(n,i,r),u),c)),d(t(e,o),n)}function o(e){var t,d="",n="";for(t=0;t<=3;t++)d+=(n="0"+(e>>>8*t&255).toString(16)).substr(n.length-2,2);return d}e=e.toString();var c,s,a,l,f,h,p,v,g,b=Array();for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",d=0;d<e.length;d++){var n=e.charCodeAt(d);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e),b=function(e){for(var t,d=e.length,n=d+8,i=16*((n-n%64)/64+1),r=Array(i-1),u=0,o=0;o<d;)u=o%4*8,r[t=(o-o%4)/4]=r[t]|e.charCodeAt(o)<<u,o++;return u=o%4*8,r[t=(o-o%4)/4]=r[t]|128<<u,r[i-2]=d<<3,r[i-1]=d>>>29,r}(e),h=1732584193,p=4023233417,v=2562383102,g=271733878,c=0;c<b.length;c+=16)s=h,a=p,l=v,f=g,h=n(h,p,v,g,b[c+0],7,3614090360),g=n(g,h,p,v,b[c+1],12,3905402710),v=n(v,g,h,p,b[c+2],17,606105819),p=n(p,v,g,h,b[c+3],22,3250441966),h=n(h,p,v,g,b[c+4],7,4118548399),g=n(g,h,p,v,b[c+5],12,1200080426),v=n(v,g,h,p,b[c+6],17,2821735955),p=n(p,v,g,h,b[c+7],22,4249261313),h=n(h,p,v,g,b[c+8],7,1770035416),g=n(g,h,p,v,b[c+9],12,2336552879),v=n(v,g,h,p,b[c+10],17,4294925233),p=n(p,v,g,h,b[c+11],22,2304563134),h=n(h,p,v,g,b[c+12],7,1804603682),g=n(g,h,p,v,b[c+13],12,4254626195),v=n(v,g,h,p,b[c+14],17,2792965006),h=i(h,p=n(p,v,g,h,b[c+15],22,1236535329),v,g,b[c+1],5,4129170786),g=i(g,h,p,v,b[c+6],9,3225465664),v=i(v,g,h,p,b[c+11],14,643717713),p=i(p,v,g,h,b[c+0],20,3921069994),h=i(h,p,v,g,b[c+5],5,3593408605),g=i(g,h,p,v,b[c+10],9,38016083),v=i(v,g,h,p,b[c+15],14,3634488961),p=i(p,v,g,h,b[c+4],20,3889429448),h=i(h,p,v,g,b[c+9],5,568446438),g=i(g,h,p,v,b[c+14],9,3275163606),v=i(v,g,h,p,b[c+3],14,4107603335),p=i(p,v,g,h,b[c+8],20,1163531501),h=i(h,p,v,g,b[c+13],5,2850285829),g=i(g,h,p,v,b[c+2],9,4243563512),v=i(v,g,h,p,b[c+7],14,1735328473),h=r(h,p=i(p,v,g,h,b[c+12],20,2368359562),v,g,b[c+5],4,4294588738),g=r(g,h,p,v,b[c+8],11,2272392833),v=r(v,g,h,p,b[c+11],16,1839030562),p=r(p,v,g,h,b[c+14],23,4259657740),h=r(h,p,v,g,b[c+1],4,2763975236),g=r(g,h,p,v,b[c+4],11,1272893353),v=r(v,g,h,p,b[c+7],16,4139469664),p=r(p,v,g,h,b[c+10],23,3200236656),h=r(h,p,v,g,b[c+13],4,681279174),g=r(g,h,p,v,b[c+0],11,3936430074),v=r(v,g,h,p,b[c+3],16,3572445317),p=r(p,v,g,h,b[c+6],23,76029189),h=r(h,p,v,g,b[c+9],4,3654602809),g=r(g,h,p,v,b[c+12],11,3873151461),v=r(v,g,h,p,b[c+15],16,530742520),h=u(h,p=r(p,v,g,h,b[c+2],23,3299628645),v,g,b[c+0],6,4096336452),g=u(g,h,p,v,b[c+7],10,1126891415),v=u(v,g,h,p,b[c+14],15,2878612391),p=u(p,v,g,h,b[c+5],21,4237533241),h=u(h,p,v,g,b[c+12],6,1700485571),g=u(g,h,p,v,b[c+3],10,2399980690),v=u(v,g,h,p,b[c+10],15,4293915773),p=u(p,v,g,h,b[c+1],21,2240044497),h=u(h,p,v,g,b[c+8],6,1873313359),g=u(g,h,p,v,b[c+15],10,4264355552),v=u(v,g,h,p,b[c+6],15,2734768916),p=u(p,v,g,h,b[c+13],21,1309151649),h=u(h,p,v,g,b[c+4],6,4149444226),g=u(g,h,p,v,b[c+11],10,3174756917),v=u(v,g,h,p,b[c+2],15,718787259),p=u(p,v,g,h,b[c+9],21,3951481745),h=d(h,s),p=d(p,a),v=d(v,l),g=d(g,f);return(o(h)+o(p)+o(v)+o(g)).toLowerCase()},function e(t,d,n){function i(u,o){if(!d[u]){if(!t[u]){var c="function"==typeof require&&require;if(!o&&c)return c(u,!0);if(r)return r(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var a=d[u]={exports:{}};t[u][0].call(a.exports,(function(e){return i(t[u][1][e]||e)}),a,a.exports,e,t,d,n)}return d[u].exports}for(var r="function"==typeof require&&require,u=0;u<n.length;u++)i(n[u]);return i}({1:[function(e,t,d){"use strict";var n=e("../main");"function"==typeof define&&define.amd?define(n):window.StickersModule.Libs.PerfectScrollbar=n},{"../main":7}],2:[function(e,t,d){"use strict";d.add=function(e,t){e.classList?e.classList.add(t):function(e,t){var d=e.className.split(" ");d.indexOf(t)<0&&d.push(t),e.className=d.join(" ")}(e,t)},d.remove=function(e,t){e.classList?e.classList.remove(t):function(e,t){var d=e.className.split(" "),n=d.indexOf(t);n>=0&&d.splice(n,1),e.className=d.join(" ")}(e,t)},d.list=function(e){return e.classList?Array.prototype.slice.apply(e.classList):e.className.split(" ")}},{}],3:[function(e,t,d){"use strict";var n={e:function(e,t){var d=document.createElement(e);return d.className=t,d},appendTo:function(e,t){return t.appendChild(e),e},css:function(e,t,d){return"object"==typeof t?function(e,t){for(var d in t){var n=t[d];"number"==typeof n&&(n=n.toString()+"px"),e.style[d]=n}return e}(e,t):void 0===d?function(e,t){return window.getComputedStyle(e)[t]}(e,t):function(e,t,d){return"number"==typeof d&&(d=d.toString()+"px"),e.style[t]=d,e}(e,t,d)},matches:function(e,t){return void 0!==e.matches?e.matches(t):void 0!==e.matchesSelector?e.matchesSelector(t):void 0!==e.webkitMatchesSelector?e.webkitMatchesSelector(t):void 0!==e.mozMatchesSelector?e.mozMatchesSelector(t):void 0!==e.msMatchesSelector?e.msMatchesSelector(t):void 0},remove:function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},queryChildren:function(e,t){return Array.prototype.filter.call(e.childNodes,(function(e){return n.matches(e,t)}))}};t.exports=n},{}],4:[function(e,t,d){"use strict";var n=function(e){this.element=e,this.events={}};n.prototype.bind=function(e,t){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t),this.element.addEventListener(e,t,!1)},n.prototype.unbind=function(e,t){var d=void 0!==t;this.events[e]=this.events[e].filter((function(n){return!(!d||n===t)||(this.element.removeEventListener(e,n,!1),!1)}),this)},n.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var i=function(){this.eventElements=[]};i.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return void 0===t&&(t=new n(e),this.eventElements.push(t)),t},i.prototype.bind=function(e,t,d){this.eventElement(e).bind(t,d)},i.prototype.unbind=function(e,t,d){this.eventElement(e).unbind(t,d)},i.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},i.prototype.once=function(e,t,d){var n=this.eventElement(e),i=function(e){n.unbind(t,i),d(e)};n.bind(t,i)},t.exports=i},{}],5:[function(e,t,d){"use strict";t.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},{}],6:[function(e,t,d){"use strict";var n=e("./class"),i=e("./dom");d.toInt=function(e){return parseInt(e,10)||0},d.clone=function(e){if(null===e)return null;if("object"==typeof e){var t={};for(var d in e)t[d]=this.clone(e[d]);return t}return e},d.extend=function(e,t){var d=this.clone(e);for(var n in t)d[n]=this.clone(t[n]);return d},d.isEditable=function(e){return i.matches(e,"input,[contenteditable]")||i.matches(e,"select,[contenteditable]")||i.matches(e,"textarea,[contenteditable]")||i.matches(e,"button,[contenteditable]")},d.removePsClasses=function(e){for(var t=n.list(e),d=0;d<t.length;d++){var i=t[d];0===i.indexOf("ps-")&&n.remove(e,i)}},d.outerWidth=function(e){return this.toInt(i.css(e,"width"))+this.toInt(i.css(e,"paddingLeft"))+this.toInt(i.css(e,"paddingRight"))+this.toInt(i.css(e,"borderLeftWidth"))+this.toInt(i.css(e,"borderRightWidth"))},d.startScrolling=function(e,t){n.add(e,"ps-in-scrolling"),void 0!==t?n.add(e,"ps-"+t):(n.add(e,"ps-x"),n.add(e,"ps-y"))},d.stopScrolling=function(e,t){n.remove(e,"ps-in-scrolling"),void 0!==t?n.remove(e,"ps-"+t):(n.remove(e,"ps-x"),n.remove(e,"ps-y"))},d.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(e,t,d){"use strict";var n=e("./plugin/destroy"),i=e("./plugin/initialize"),r=e("./plugin/update");t.exports={initialize:i,update:r,destroy:n}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(e,t,d){"use strict";t.exports={maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,useKeyboard:!0,useSelectionScroll:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}},{}],9:[function(e,t,d){"use strict";var n=e("../lib/dom"),i=e("../lib/helper"),r=e("./instances");t.exports=function(e){var t=r.get(e);t&&(t.event.unbindAll(),n.remove(t.scrollbarX),n.remove(t.scrollbarY),n.remove(t.scrollbarXRail),n.remove(t.scrollbarYRail),i.removePsClasses(e),r.remove(e))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(e,t,d){"use strict";var n=e("../../lib/helper"),i=e("../instances"),r=e("../update-geometry"),u=e("../update-scroll");t.exports=function(e){!function(e,t){function d(e){return e.getBoundingClientRect()}var i=window.Event.prototype.stopPropagation.bind;t.settings.stopPropagationOnClick&&t.event.bind(t.scrollbarY,"click",i),t.event.bind(t.scrollbarYRail,"click",(function(i){var o=n.toInt(t.scrollbarYHeight/2),c=t.railYRatio*(i.pageY-window.pageYOffset-d(t.scrollbarYRail).top-o)/(t.railYRatio*(t.railYHeight-t.scrollbarYHeight));c<0?c=0:c>1&&(c=1),u(e,"top",(t.contentHeight-t.containerHeight)*c),r(e),i.stopPropagation()})),t.settings.stopPropagationOnClick&&t.event.bind(t.scrollbarX,"click",i),t.event.bind(t.scrollbarXRail,"click",(function(i){var o=n.toInt(t.scrollbarXWidth/2),c=t.railXRatio*(i.pageX-window.pageXOffset-d(t.scrollbarXRail).left-o)/(t.railXRatio*(t.railXWidth-t.scrollbarXWidth));c<0?c=0:c>1&&(c=1),u(e,"left",(t.contentWidth-t.containerWidth)*c-t.negativeScrollAdjustment),r(e),i.stopPropagation()}))}(e,i.get(e))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(e,t,d){"use strict";var n=e("../../lib/dom"),i=e("../../lib/helper"),r=e("../instances"),u=e("../update-geometry"),o=e("../update-scroll");t.exports=function(e){var t=r.get(e);(function(e,t){var d=null,r=null,c=function(n){!function(n){var r=d+n*t.railXRatio,u=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=r<0?0:r>u?u:r;var c=i.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;o(e,"left",c)}(n.pageX-r),u(e),n.stopPropagation(),n.preventDefault()},s=function(){i.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",c)};t.event.bind(t.scrollbarX,"mousedown",(function(u){r=u.pageX,d=i.toInt(n.css(t.scrollbarX,"left"))*t.railXRatio,i.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",c),t.event.once(t.ownerDocument,"mouseup",s),u.stopPropagation(),u.preventDefault()}))})(e,t),function(e,t){var d=null,r=null,c=function(n){!function(n){var r=d+n*t.railYRatio,u=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=r<0?0:r>u?u:r;var c=i.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));o(e,"top",c)}(n.pageY-r),u(e),n.stopPropagation(),n.preventDefault()},s=function(){i.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",c)};t.event.bind(t.scrollbarY,"mousedown",(function(u){r=u.pageY,d=i.toInt(n.css(t.scrollbarY,"top"))*t.railYRatio,i.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",c),t.event.once(t.ownerDocument,"mouseup",s),u.stopPropagation(),u.preventDefault()}))}(e,t)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(e,t,d){"use strict";var n=e("../../lib/helper"),i=e("../../lib/dom"),r=e("../instances"),u=e("../update-geometry"),o=e("../update-scroll");t.exports=function(e){!function(e,t){var d=!1;t.event.bind(e,"mouseenter",(function(){d=!0})),t.event.bind(e,"mouseleave",(function(){d=!1}));var r=!1;t.event.bind(t.ownerDocument,"keydown",(function(c){if(!c.isDefaultPrevented||!c.isDefaultPrevented()){var s=i.matches(t.scrollbarX,":focus")||i.matches(t.scrollbarY,":focus");if(d||s){var a=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(a){for(;a.shadowRoot;)a=a.shadowRoot.activeElement;if(n.isEditable(a))return}var l=0,f=0;switch(c.which){case 37:l=-30;break;case 38:f=30;break;case 39:l=30;break;case 40:f=-30;break;case 33:f=90;break;case 32:f=c.shiftKey?90:-90;break;case 34:f=-90;break;case 35:f=c.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:f=c.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}o(e,"top",e.scrollTop-f),o(e,"left",e.scrollLeft+l),u(e),r=function(d,n){var i=e.scrollTop;if(0===d){if(!t.scrollbarYActive)return!1;if(0===i&&n>0||i>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var r=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===r&&d<0||r>=t.contentWidth-t.containerWidth&&d>0)return!t.settings.wheelPropagation}return!0}(l,f),r&&c.preventDefault()}}}))}(e,r.get(e))}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(e,t,d){"use strict";var n=e("../instances"),i=e("../update-geometry"),r=e("../update-scroll");t.exports=function(e){!function(e,t){var d=!1;function n(n){var u=function(e){var t=e.deltaX,d=-1*e.deltaY;return void 0!==t&&void 0!==d||(t=-1*e.wheelDeltaX/6,d=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,d*=10),t!=t&&d!=d&&(t=0,d=e.wheelDelta),[t,d]}(n),o=u[0],c=u[1];(function(t,d){var n=e.querySelector("textarea:hover");if(n){var i=n.scrollHeight-n.clientHeight;if(i>0&&!(0===n.scrollTop&&d>0||n.scrollTop===i&&d<0))return!0;var r=n.scrollLeft-n.clientWidth;if(r>0&&!(0===n.scrollLeft&&t<0||n.scrollLeft===r&&t>0))return!0}return!1})(o,c)||(d=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(r(e,"top",c?e.scrollTop-c*t.settings.wheelSpeed:e.scrollTop+o*t.settings.wheelSpeed),d=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(r(e,"left",o?e.scrollLeft+o*t.settings.wheelSpeed:e.scrollLeft-c*t.settings.wheelSpeed),d=!0):(r(e,"top",e.scrollTop-c*t.settings.wheelSpeed),r(e,"left",e.scrollLeft+o*t.settings.wheelSpeed)),i(e),d=d||function(d,n){var i=e.scrollTop;if(0===d){if(!t.scrollbarYActive)return!1;if(0===i&&n>0||i>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var r=e.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===r&&d<0||r>=t.contentWidth-t.containerWidth&&d>0)return!t.settings.wheelPropagation}return!0}(o,c),d&&(n.stopPropagation(),n.preventDefault()))}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)}(e,n.get(e))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(e,t,d){"use strict";var n=e("../instances"),i=e("../update-geometry");t.exports=function(e){!function(e,t){t.event.bind(e,"scroll",(function(){i(e)}))}(e,n.get(e))}},{"../instances":18,"../update-geometry":19}],15:[function(e,t,d){"use strict";var n=e("../../lib/helper"),i=e("../instances"),r=e("../update-geometry"),u=e("../update-scroll");t.exports=function(e){!function(e,t){var d=null,o={top:0,left:0};function c(){d&&(clearInterval(d),d=null),n.stopScrolling(e)}var s=!1;t.event.bind(t.ownerDocument,"selectionchange",(function(){var t;e.contains(0===(t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"").toString().length?null:t.getRangeAt(0).commonAncestorContainer)?s=!0:(s=!1,c())})),t.event.bind(window,"mouseup",(function(){s&&(s=!1,c())})),t.event.bind(window,"mousemove",(function(t){if(s){var a={x:t.pageX,y:t.pageY},l={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};a.x<l.left+3?(o.left=-5,n.startScrolling(e,"x")):a.x>l.right-3?(o.left=5,n.startScrolling(e,"x")):o.left=0,a.y<l.top+3?(o.top=l.top+3-a.y<5?-5:-20,n.startScrolling(e,"y")):a.y>l.bottom-3?(o.top=a.y-l.bottom+3<5?5:20,n.startScrolling(e,"y")):o.top=0,0===o.top&&0===o.left?c():d||(d=setInterval((function(){i.get(e)?(u(e,"top",e.scrollTop+o.top),u(e,"left",e.scrollLeft+o.left),r(e)):clearInterval(d)}),50))}}))}(e,i.get(e))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(e,t,d){"use strict";var n=e("../instances"),i=e("../update-geometry"),r=e("../update-scroll");t.exports=function(e,t,d){!function(e,t,d,u){function o(t,d){r(e,"top",e.scrollTop-d),r(e,"left",e.scrollLeft-t),i(e)}var c={},s=0,a={},l=null,f=!1,h=!1;function p(){f=!0}function v(){f=!1}function g(e){return e.targetTouches?e.targetTouches[0]:e}function b(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function m(e){if(b(e)){h=!0;var t=g(e);c.pageX=t.pageX,c.pageY=t.pageY,s=(new Date).getTime(),null!==l&&clearInterval(l),e.stopPropagation()}}function S(d){if(!f&&h&&b(d)){var n=g(d),i={pageX:n.pageX,pageY:n.pageY},r=i.pageX-c.pageX,u=i.pageY-c.pageY;o(r,u),c=i;var l=(new Date).getTime(),p=l-s;p>0&&(a.x=r/p,a.y=u/p,s=l),function(d,n){var i=e.scrollTop,r=e.scrollLeft,u=Math.abs(d),o=Math.abs(n);if(o>u){if(n<0&&i===t.contentHeight-t.containerHeight||n>0&&0===i)return!t.settings.swipePropagation}else if(u>o&&(d<0&&r===t.contentWidth-t.containerWidth||d>0&&0===r))return!t.settings.swipePropagation;return!0}(r,u)&&(d.stopPropagation(),d.preventDefault())}}function k(){!f&&h&&(h=!1,clearInterval(l),l=setInterval((function(){n.get(e)?Math.abs(a.x)<.01&&Math.abs(a.y)<.01?clearInterval(l):(o(30*a.x,30*a.y),a.x*=.8,a.y*=.8):clearInterval(l)}),10))}d&&(t.event.bind(window,"touchstart",p),t.event.bind(window,"touchend",v),t.event.bind(e,"touchstart",m),t.event.bind(e,"touchmove",S),t.event.bind(e,"touchend",k)),u&&(window.PointerEvent?(t.event.bind(window,"pointerdown",p),t.event.bind(window,"pointerup",v),t.event.bind(e,"pointerdown",m),t.event.bind(e,"pointermove",S),t.event.bind(e,"pointerup",k)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",p),t.event.bind(window,"MSPointerUp",v),t.event.bind(e,"MSPointerDown",m),t.event.bind(e,"MSPointerMove",S),t.event.bind(e,"MSPointerUp",k)))}(e,n.get(e),t,d)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(e,t,d){"use strict";var n=e("../lib/class"),i=e("../lib/helper"),r=e("./instances"),u=e("./update-geometry"),o=e("./handler/click-rail"),c=e("./handler/drag-scrollbar"),s=e("./handler/keyboard"),a=e("./handler/mouse-wheel"),l=e("./handler/native-scroll"),f=e("./handler/selection"),h=e("./handler/touch");t.exports=function(e,t){t="object"==typeof t?t:{},n.add(e,"ps-container");var d=r.add(e);d.settings=i.extend(d.settings,t),n.add(e,"ps-theme-"+d.settings.theme),o(e),c(e),a(e),l(e),d.settings.useSelectionScroll&&f(e),(i.env.supportsTouch||i.env.supportsIePointer)&&h(e,i.env.supportsTouch,i.env.supportsIePointer),d.settings.useKeyboard&&s(e),u(e)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(e,t,d){"use strict";var n=e("../lib/class"),i=e("../lib/dom"),r=e("./default-setting"),u=e("../lib/event-manager"),o=e("../lib/guid"),c=e("../lib/helper"),s={};function a(e){var t,d,o=this;function s(){n.add(e,"ps-focus")}function a(){n.remove(e,"ps-focus")}o.settings=c.clone(r),o.containerWidth=null,o.containerHeight=null,o.contentWidth=null,o.contentHeight=null,o.isRtl="rtl"===i.css(e,"direction"),o.isNegativeScroll=(d=e.scrollLeft,e.scrollLeft=-1,t=e.scrollLeft<0,e.scrollLeft=d,t),o.negativeScrollAdjustment=o.isNegativeScroll?e.scrollWidth-e.clientWidth:0,o.event=new u,o.ownerDocument=e.ownerDocument||document,o.scrollbarXRail=i.appendTo(i.e("div","ps-scrollbar-x-rail"),e),o.scrollbarX=i.appendTo(i.e("div","ps-scrollbar-x"),o.scrollbarXRail),o.scrollbarX.setAttribute("tabindex",0),o.event.bind(o.scrollbarX,"focus",s),o.event.bind(o.scrollbarX,"blur",a),o.scrollbarXActive=null,o.scrollbarXWidth=null,o.scrollbarXLeft=null,o.scrollbarXBottom=c.toInt(i.css(o.scrollbarXRail,"bottom")),o.isScrollbarXUsingBottom=o.scrollbarXBottom==o.scrollbarXBottom,o.scrollbarXTop=o.isScrollbarXUsingBottom?null:c.toInt(i.css(o.scrollbarXRail,"top")),o.railBorderXWidth=c.toInt(i.css(o.scrollbarXRail,"borderLeftWidth"))+c.toInt(i.css(o.scrollbarXRail,"borderRightWidth")),i.css(o.scrollbarXRail,"display","block"),o.railXMarginWidth=c.toInt(i.css(o.scrollbarXRail,"marginLeft"))+c.toInt(i.css(o.scrollbarXRail,"marginRight")),i.css(o.scrollbarXRail,"display",""),o.railXWidth=null,o.railXRatio=null,o.scrollbarYRail=i.appendTo(i.e("div","ps-scrollbar-y-rail"),e),o.scrollbarY=i.appendTo(i.e("div","ps-scrollbar-y"),o.scrollbarYRail),o.scrollbarY.setAttribute("tabindex",0),o.event.bind(o.scrollbarY,"focus",s),o.event.bind(o.scrollbarY,"blur",a),o.scrollbarYActive=null,o.scrollbarYHeight=null,o.scrollbarYTop=null,o.scrollbarYRight=c.toInt(i.css(o.scrollbarYRail,"right")),o.isScrollbarYUsingRight=o.scrollbarYRight==o.scrollbarYRight,o.scrollbarYLeft=o.isScrollbarYUsingRight?null:c.toInt(i.css(o.scrollbarYRail,"left")),o.scrollbarYOuterWidth=o.isRtl?c.outerWidth(o.scrollbarY):null,o.railBorderYWidth=c.toInt(i.css(o.scrollbarYRail,"borderTopWidth"))+c.toInt(i.css(o.scrollbarYRail,"borderBottomWidth")),i.css(o.scrollbarYRail,"display","block"),o.railYMarginHeight=c.toInt(i.css(o.scrollbarYRail,"marginTop"))+c.toInt(i.css(o.scrollbarYRail,"marginBottom")),i.css(o.scrollbarYRail,"display",""),o.railYHeight=null,o.railYRatio=null}function l(e){return void 0===e.dataset?e.getAttribute("data-ps-id"):e.dataset.psId}d.add=function(e){var t=o();return function(e,t){void 0===e.dataset?e.setAttribute("data-ps-id",t):e.dataset.psId=t}(e,t),s[t]=new a(e),s[t]},d.remove=function(e){delete s[l(e)],function(e){void 0===e.dataset?e.removeAttribute("data-ps-id"):delete e.dataset.psId}(e)},d.get=function(e){return s[l(e)]}},{"../lib/class":2,"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(e,t,d){"use strict";var n=e("../lib/class"),i=e("../lib/dom"),r=e("../lib/helper"),u=e("./instances"),o=e("./update-scroll");function c(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}t.exports=function(e){var t,d=u.get(e);d.containerWidth=e.clientWidth,d.containerHeight=e.clientHeight,d.contentWidth=e.scrollWidth,d.contentHeight=e.scrollHeight,e.contains(d.scrollbarXRail)||((t=i.queryChildren(e,".ps-scrollbar-x-rail")).length>0&&t.forEach((function(e){i.remove(e)})),i.appendTo(d.scrollbarXRail,e)),e.contains(d.scrollbarYRail)||((t=i.queryChildren(e,".ps-scrollbar-y-rail")).length>0&&t.forEach((function(e){i.remove(e)})),i.appendTo(d.scrollbarYRail,e)),!d.settings.suppressScrollX&&d.containerWidth+d.settings.scrollXMarginOffset<d.contentWidth?(d.scrollbarXActive=!0,d.railXWidth=d.containerWidth-d.railXMarginWidth,d.railXRatio=d.containerWidth/d.railXWidth,d.scrollbarXWidth=c(d,r.toInt(d.railXWidth*d.containerWidth/d.contentWidth)),d.scrollbarXLeft=r.toInt((d.negativeScrollAdjustment+e.scrollLeft)*(d.railXWidth-d.scrollbarXWidth)/(d.contentWidth-d.containerWidth))):d.scrollbarXActive=!1,!d.settings.suppressScrollY&&d.containerHeight+d.settings.scrollYMarginOffset<d.contentHeight?(d.scrollbarYActive=!0,d.railYHeight=d.containerHeight-d.railYMarginHeight,d.railYRatio=d.containerHeight/d.railYHeight,d.scrollbarYHeight=c(d,r.toInt(d.railYHeight*d.containerHeight/d.contentHeight)),d.scrollbarYTop=r.toInt(e.scrollTop*(d.railYHeight-d.scrollbarYHeight)/(d.contentHeight-d.containerHeight))):d.scrollbarYActive=!1,d.scrollbarXLeft>=d.railXWidth-d.scrollbarXWidth&&(d.scrollbarXLeft=d.railXWidth-d.scrollbarXWidth),d.scrollbarYTop>=d.railYHeight-d.scrollbarYHeight&&(d.scrollbarYTop=d.railYHeight-d.scrollbarYHeight),function(e,t){var d={width:t.railXWidth};t.isRtl?d.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:d.left=e.scrollLeft,t.isScrollbarXUsingBottom?d.bottom=t.scrollbarXBottom-e.scrollTop:d.top=t.scrollbarXTop+e.scrollTop,i.css(t.scrollbarXRail,d);var n={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?n.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:n.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:n.left=t.scrollbarYLeft+e.scrollLeft,i.css(t.scrollbarYRail,n),i.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),i.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(e,d),d.scrollbarXActive?n.add(e,"ps-active-x"):(n.remove(e,"ps-active-x"),d.scrollbarXWidth=0,d.scrollbarXLeft=0,o(e,"left",0)),d.scrollbarYActive?n.add(e,"ps-active-y"):(n.remove(e,"ps-active-y"),d.scrollbarYHeight=0,d.scrollbarYTop=0,o(e,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(e,t,d){"use strict";var n,i,r=e("./instances"),u=document.createEvent("Event"),o=document.createEvent("Event"),c=document.createEvent("Event"),s=document.createEvent("Event"),a=document.createEvent("Event"),l=document.createEvent("Event"),f=document.createEvent("Event"),h=document.createEvent("Event"),p=document.createEvent("Event"),v=document.createEvent("Event");u.initEvent("ps-scroll-up",!0,!0),o.initEvent("ps-scroll-down",!0,!0),c.initEvent("ps-scroll-left",!0,!0),s.initEvent("ps-scroll-right",!0,!0),a.initEvent("ps-scroll-y",!0,!0),l.initEvent("ps-scroll-x",!0,!0),f.initEvent("ps-x-reach-start",!0,!0),h.initEvent("ps-x-reach-end",!0,!0),p.initEvent("ps-y-reach-start",!0,!0),v.initEvent("ps-y-reach-end",!0,!0),t.exports=function(e,t,d){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===d)throw"You must provide a value to the update-scroll function";"top"===t&&d<=0&&(e.scrollTop=d=0,e.dispatchEvent(p)),"left"===t&&d<=0&&(e.scrollLeft=d=0,e.dispatchEvent(f));var g=r.get(e);"top"===t&&d>=g.contentHeight-g.containerHeight&&(e.scrollTop=d=g.contentHeight-g.containerHeight,e.dispatchEvent(v)),"left"===t&&d>=g.contentWidth-g.containerWidth&&(e.scrollLeft=d=g.contentWidth-g.containerWidth,e.dispatchEvent(h)),n||(n=e.scrollTop),i||(i=e.scrollLeft),"top"===t&&d<n&&e.dispatchEvent(u),"top"===t&&d>n&&e.dispatchEvent(o),"left"===t&&d<i&&e.dispatchEvent(c),"left"===t&&d>i&&e.dispatchEvent(s),"top"===t&&(e.scrollTop=n=d,e.dispatchEvent(a)),"left"===t&&(e.scrollLeft=i=d,e.dispatchEvent(l))}},{"./instances":18}],21:[function(e,t,d){"use strict";var n=e("../lib/dom"),i=e("../lib/helper"),r=e("./instances"),u=e("./update-geometry"),o=e("./update-scroll");t.exports=function(e){var t=r.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,n.css(t.scrollbarXRail,"display","block"),n.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=i.toInt(n.css(t.scrollbarXRail,"marginLeft"))+i.toInt(n.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=i.toInt(n.css(t.scrollbarYRail,"marginTop"))+i.toInt(n.css(t.scrollbarYRail,"marginBottom")),n.css(t.scrollbarXRail,"display","none"),n.css(t.scrollbarYRail,"display","none"),u(e),o(e,"top",e.scrollTop),o(e,"left",e.scrollLeft),n.css(t.scrollbarXRail,"display",""),n.css(t.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),window.StickersModule.Libs.Twemoji=function(){"use strict";var e={base:("https:"===location.protocol?"https:":"http:")+"//twemoji.maxcdn.com/",ext:".png",size:"36x36",className:"emoji",convert:{fromCodePoint:function(e){var t="string"==typeof e?parseInt(e,16):e;return t<65536?r(t):r(55296+((t-=65536)>>10),56320+(1023&t))},toCodePoint:v},onerror:function(){this.parentNode&&this.parentNode.replaceChild(u(this.alt),this)},parse:function(t,d){return d&&"function"!=typeof d||(d={callback:d}),("string"==typeof t?l:a)(t,{callback:d.callback||o,attributes:"function"==typeof d.attributes?d.attributes:h,base:"string"==typeof d.base?d.base:e.base,ext:d.ext||e.ext,size:d.folder||(n=d.size||e.size,"number"==typeof n?n+"x"+n:n),className:d.className||e.className,onerror:d.onerror||e.onerror});var n},replace:p,test:function(e){d.lastIndex=0;var t=d.test(e);return d.lastIndex=0,t}},t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},d=/((?:\ud83c\udde8\ud83c\uddf3|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddf7\ud83c\uddfa|\ud83c\uddf0\ud83c\uddf7|\ud83c\uddef\ud83c\uddf5|\ud83c\uddee\ud83c\uddf9|\ud83c\uddec\ud83c\udde7|\ud83c\uddeb\ud83c\uddf7|\ud83c\uddea\ud83c\uddf8|\ud83c\udde9\ud83c\uddea|\u0039\ufe0f?\u20e3|\u0038\ufe0f?\u20e3|\u0037\ufe0f?\u20e3|\u0036\ufe0f?\u20e3|\u0035\ufe0f?\u20e3|\u0034\ufe0f?\u20e3|\u0033\ufe0f?\u20e3|\u0032\ufe0f?\u20e3|\u0031\ufe0f?\u20e3|\u0030\ufe0f?\u20e3|\u0023\ufe0f?\u20e3|\ud83d\udeb3|\ud83d\udeb1|\ud83d\udeb0|\ud83d\udeaf|\ud83d\udeae|\ud83d\udea6|\ud83d\udea3|\ud83d\udea1|\ud83d\udea0|\ud83d\ude9f|\ud83d\ude9e|\ud83d\ude9d|\ud83d\ude9c|\ud83d\ude9b|\ud83d\ude98|\ud83d\ude96|\ud83d\ude94|\ud83d\ude90|\ud83d\ude8e|\ud83d\ude8d|\ud83d\ude8b|\ud83d\ude8a|\ud83d\ude88|\ud83d\ude86|\ud83d\ude82|\ud83d\ude81|\ud83d\ude36|\ud83d\ude34|\ud83d\ude2f|\ud83d\ude2e|\ud83d\ude2c|\ud83d\ude27|\ud83d\ude26|\ud83d\ude1f|\ud83d\ude1b|\ud83d\ude19|\ud83d\ude17|\ud83d\ude15|\ud83d\ude11|\ud83d\ude10|\ud83d\ude0e|\ud83d\ude08|\ud83d\ude07|\ud83d\ude00|\ud83d\udd67|\ud83d\udd66|\ud83d\udd65|\ud83d\udd64|\ud83d\udd63|\ud83d\udd62|\ud83d\udd61|\ud83d\udd60|\ud83d\udd5f|\ud83d\udd5e|\ud83d\udd5d|\ud83d\udd5c|\ud83d\udd2d|\ud83d\udd2c|\ud83d\udd15|\ud83d\udd09|\ud83d\udd08|\ud83d\udd07|\ud83d\udd06|\ud83d\udd05|\ud83d\udd04|\ud83d\udd02|\ud83d\udd01|\ud83d\udd00|\ud83d\udcf5|\ud83d\udcef|\ud83d\udced|\ud83d\udcec|\ud83d\udcb7|\ud83d\udcb6|\ud83d\udcad|\ud83d\udc6d|\ud83d\udc6c|\ud83d\udc65|\ud83d\udc2a|\ud83d\udc16|\ud83d\udc15|\ud83d\udc13|\ud83d\udc10|\ud83d\udc0f|\ud83d\udc0b|\ud83d\udc0a|\ud83d\udc09|\ud83d\udc08|\ud83d\udc07|\ud83d\udc06|\ud83d\udc05|\ud83d\udc04|\ud83d\udc03|\ud83d\udc02|\ud83d\udc01|\ud83d\udc00|\ud83c\udfe4|\ud83c\udfc9|\ud83c\udfc7|\ud83c\udf7c|\ud83c\udf50|\ud83c\udf4b|\ud83c\udf33|\ud83c\udf32|\ud83c\udf1e|\ud83c\udf1d|\ud83c\udf1c|\ud83c\udf1a|\ud83c\udf18|\ud83c\udccf|\ud83c\udd8e|\ud83c\udd91|\ud83c\udd92|\ud83c\udd93|\ud83c\udd94|\ud83c\udd95|\ud83c\udd96|\ud83c\udd97|\ud83c\udd98|\ud83c\udd99|\ud83c\udd9a|\ud83d\udc77|\ud83d\udec5|\ud83d\udec4|\ud83d\udec3|\ud83d\udec2|\ud83d\udec1|\ud83d\udebf|\ud83d\udeb8|\ud83d\udeb7|\ud83d\udeb5|\ud83c\ude01|\ud83c\ude32|\ud83c\ude33|\ud83c\ude34|\ud83c\ude35|\ud83c\ude36|\ud83c\ude38|\ud83c\ude39|\ud83c\ude3a|\ud83c\ude50|\ud83c\ude51|\ud83c\udf00|\ud83c\udf01|\ud83c\udf02|\ud83c\udf03|\ud83c\udf04|\ud83c\udf05|\ud83c\udf06|\ud83c\udf07|\ud83c\udf08|\ud83c\udf09|\ud83c\udf0a|\ud83c\udf0b|\ud83c\udf0c|\ud83c\udf0f|\ud83c\udf11|\ud83c\udf13|\ud83c\udf14|\ud83c\udf15|\ud83c\udf19|\ud83c\udf1b|\ud83c\udf1f|\ud83c\udf20|\ud83c\udf30|\ud83c\udf31|\ud83c\udf34|\ud83c\udf35|\ud83c\udf37|\ud83c\udf38|\ud83c\udf39|\ud83c\udf3a|\ud83c\udf3b|\ud83c\udf3c|\ud83c\udf3d|\ud83c\udf3e|\ud83c\udf3f|\ud83c\udf40|\ud83c\udf41|\ud83c\udf42|\ud83c\udf43|\ud83c\udf44|\ud83c\udf45|\ud83c\udf46|\ud83c\udf47|\ud83c\udf48|\ud83c\udf49|\ud83c\udf4a|\ud83c\udf4c|\ud83c\udf4d|\ud83c\udf4e|\ud83c\udf4f|\ud83c\udf51|\ud83c\udf52|\ud83c\udf53|\ud83c\udf54|\ud83c\udf55|\ud83c\udf56|\ud83c\udf57|\ud83c\udf58|\ud83c\udf59|\ud83c\udf5a|\ud83c\udf5b|\ud83c\udf5c|\ud83c\udf5d|\ud83c\udf5e|\ud83c\udf5f|\ud83c\udf60|\ud83c\udf61|\ud83c\udf62|\ud83c\udf63|\ud83c\udf64|\ud83c\udf65|\ud83c\udf66|\ud83c\udf67|\ud83c\udf68|\ud83c\udf69|\ud83c\udf6a|\ud83c\udf6b|\ud83c\udf6c|\ud83c\udf6d|\ud83c\udf6e|\ud83c\udf6f|\ud83c\udf70|\ud83c\udf71|\ud83c\udf72|\ud83c\udf73|\ud83c\udf74|\ud83c\udf75|\ud83c\udf76|\ud83c\udf77|\ud83c\udf78|\ud83c\udf79|\ud83c\udf7a|\ud83c\udf7b|\ud83c\udf80|\ud83c\udf81|\ud83c\udf82|\ud83c\udf83|\ud83c\udf84|\ud83c\udf85|\ud83c\udf86|\ud83c\udf87|\ud83c\udf88|\ud83c\udf89|\ud83c\udf8a|\ud83c\udf8b|\ud83c\udf8c|\ud83c\udf8d|\ud83c\udf8e|\ud83c\udf8f|\ud83c\udf90|\ud83c\udf91|\ud83c\udf92|\ud83c\udf93|\ud83c\udfa0|\ud83c\udfa1|\ud83c\udfa2|\ud83c\udfa3|\ud83c\udfa4|\ud83c\udfa5|\ud83c\udfa6|\ud83c\udfa7|\ud83c\udfa8|\ud83c\udfa9|\ud83c\udfaa|\ud83c\udfab|\ud83c\udfac|\ud83c\udfad|\ud83c\udfae|\ud83c\udfaf|\ud83c\udfb0|\ud83c\udfb1|\ud83c\udfb2|\ud83c\udfb3|\ud83c\udfb4|\ud83c\udfb5|\ud83c\udfb6|\ud83c\udfb7|\ud83c\udfb8|\ud83c\udfb9|\ud83c\udfba|\ud83c\udfbb|\ud83c\udfbc|\ud83c\udfbd|\ud83c\udfbe|\ud83c\udfbf|\ud83c\udfc0|\ud83c\udfc1|\ud83c\udfc2|\ud83c\udfc3|\ud83c\udfc4|\ud83c\udfc6|\ud83c\udfc8|\ud83c\udfca|\ud83c\udfe0|\ud83c\udfe1|\ud83c\udfe2|\ud83c\udfe3|\ud83c\udfe5|\ud83c\udfe6|\ud83c\udfe7|\ud83c\udfe8|\ud83c\udfe9|\ud83c\udfea|\ud83c\udfeb|\ud83c\udfec|\ud83c\udfed|\ud83c\udfee|\ud83c\udfef|\ud83c\udff0|\ud83d\udc0c|\ud83d\udc0d|\ud83d\udc0e|\ud83d\udc11|\ud83d\udc12|\ud83d\udc14|\ud83d\udc17|\ud83d\udc18|\ud83d\udc19|\ud83d\udc1a|\ud83d\udc1b|\ud83d\udc1c|\ud83d\udc1d|\ud83d\udc1e|\ud83d\udc1f|\ud83d\udc20|\ud83d\udc21|\ud83d\udc22|\ud83d\udc23|\ud83d\udc24|\ud83d\udc25|\ud83d\udc26|\ud83d\udc27|\ud83d\udc28|\ud83d\udc29|\ud83d\udc2b|\ud83d\udc2c|\ud83d\udc2d|\ud83d\udc2e|\ud83d\udc2f|\ud83d\udc30|\ud83d\udc31|\ud83d\udc32|\ud83d\udc33|\ud83d\udc34|\ud83d\udc35|\ud83d\udc36|\ud83d\udc37|\ud83d\udc38|\ud83d\udc39|\ud83d\udc3a|\ud83d\udc3b|\ud83d\udc3c|\ud83d\udc3d|\ud83d\udc3e|\ud83d\udc40|\ud83d\udc42|\ud83d\udc43|\ud83d\udc44|\ud83d\udc45|\ud83d\udc46|\ud83d\udc47|\ud83d\udc48|\ud83d\udc49|\ud83d\udc4a|\ud83d\udc4b|\ud83d\udc4c|\ud83d\udc4d|\ud83d\udc4e|\ud83d\udc4f|\ud83d\udc50|\ud83d\udc51|\ud83d\udc52|\ud83d\udc53|\ud83d\udc54|\ud83d\udc55|\ud83d\udc56|\ud83d\udc57|\ud83d\udc58|\ud83d\udc59|\ud83d\udc5a|\ud83d\udc5b|\ud83d\udc5c|\ud83d\udc5d|\ud83d\udc5e|\ud83d\udc5f|\ud83d\udc60|\ud83d\udc61|\ud83d\udc62|\ud83d\udc63|\ud83d\udc64|\ud83d\udc66|\ud83d\udc67|\ud83d\udc68|\ud83d\udc69|\ud83d\udc6a|\ud83d\udc6b|\ud83d\udc6e|\ud83d\udc6f|\ud83d\udc70|\ud83d\udc71|\ud83d\udc72|\ud83d\udc73|\ud83d\udc74|\ud83d\udc75|\ud83d\udc76|\ud83d\udeb4|\ud83d\udc78|\ud83d\udc79|\ud83d\udc7a|\ud83d\udc7b|\ud83d\udc7c|\ud83d\udc7d|\ud83d\udc7e|\ud83d\udc7f|\ud83d\udc80|\ud83d\udc81|\ud83d\udc82|\ud83d\udc83|\ud83d\udc84|\ud83d\udc85|\ud83d\udc86|\ud83d\udc87|\ud83d\udc88|\ud83d\udc89|\ud83d\udc8a|\ud83d\udc8b|\ud83d\udc8c|\ud83d\udc8d|\ud83d\udc8e|\ud83d\udc8f|\ud83d\udc90|\ud83d\udc91|\ud83d\udc92|\ud83d\udc93|\ud83d\udc94|\ud83d\udc95|\ud83d\udc96|\ud83d\udc97|\ud83d\udc98|\ud83d\udc99|\ud83d\udc9a|\ud83d\udc9b|\ud83d\udc9c|\ud83d\udc9d|\ud83d\udc9e|\ud83d\udc9f|\ud83d\udca0|\ud83d\udca1|\ud83d\udca2|\ud83d\udca3|\ud83d\udca4|\ud83d\udca5|\ud83d\udca6|\ud83d\udca7|\ud83d\udca8|\ud83d\udca9|\ud83d\udcaa|\ud83d\udcab|\ud83d\udcac|\ud83d\udcae|\ud83d\udcaf|\ud83d\udcb0|\ud83d\udcb1|\ud83d\udcb2|\ud83d\udcb3|\ud83d\udcb4|\ud83d\udcb5|\ud83d\udcb8|\ud83d\udcb9|\ud83d\udcba|\ud83d\udcbb|\ud83d\udcbc|\ud83d\udcbd|\ud83d\udcbe|\ud83d\udcbf|\ud83d\udcc0|\ud83d\udcc1|\ud83d\udcc2|\ud83d\udcc3|\ud83d\udcc4|\ud83d\udcc5|\ud83d\udcc6|\ud83d\udcc7|\ud83d\udcc8|\ud83d\udcc9|\ud83d\udcca|\ud83d\udccb|\ud83d\udccc|\ud83d\udccd|\ud83d\udcce|\ud83d\udccf|\ud83d\udcd0|\ud83d\udcd1|\ud83d\udcd2|\ud83d\udcd3|\ud83d\udcd4|\ud83d\udcd5|\ud83d\udcd6|\ud83d\udcd7|\ud83d\udcd8|\ud83d\udcd9|\ud83d\udcda|\ud83d\udcdb|\ud83d\udcdc|\ud83d\udcdd|\ud83d\udcde|\ud83d\udcdf|\ud83d\udce0|\ud83d\udce1|\ud83d\udce2|\ud83d\udce3|\ud83d\udce4|\ud83d\udce5|\ud83d\udce6|\ud83d\udce7|\ud83d\udce8|\ud83d\udce9|\ud83d\udcea|\ud83d\udceb|\ud83d\udcee|\ud83d\udcf0|\ud83d\udcf1|\ud83d\udcf2|\ud83d\udcf3|\ud83d\udcf4|\ud83d\udcf6|\ud83d\udcf7|\ud83d\udcf9|\ud83d\udcfa|\ud83d\udcfb|\ud83d\udcfc|\ud83d\udd03|\ud83d\udd0a|\ud83d\udd0b|\ud83d\udd0c|\ud83d\udd0d|\ud83d\udd0e|\ud83d\udd0f|\ud83d\udd10|\ud83d\udd11|\ud83d\udd12|\ud83d\udd13|\ud83d\udd14|\ud83d\udd16|\ud83d\udd17|\ud83d\udd18|\ud83d\udd19|\ud83d\udd1a|\ud83d\udd1b|\ud83d\udd1c|\ud83d\udd1d|\ud83d\udd1e|\ud83d\udd1f|\ud83d\udd20|\ud83d\udd21|\ud83d\udd22|\ud83d\udd23|\ud83d\udd24|\ud83d\udd25|\ud83d\udd26|\ud83d\udd27|\ud83d\udd28|\ud83d\udd29|\ud83d\udd2a|\ud83d\udd2b|\ud83d\udd2e|\ud83d\udd2f|\ud83d\udd30|\ud83d\udd31|\ud83d\udd32|\ud83d\udd33|\ud83d\udd34|\ud83d\udd35|\ud83d\udd36|\ud83d\udd37|\ud83d\udd38|\ud83d\udd39|\ud83d\udd3a|\ud83d\udd3b|\ud83d\udd3c|\ud83d\udd3d|\ud83d\udd50|\ud83d\udd51|\ud83d\udd52|\ud83d\udd53|\ud83d\udd54|\ud83d\udd55|\ud83d\udd56|\ud83d\udd57|\ud83d\udd58|\ud83d\udd59|\ud83d\udd5a|\ud83d\udd5b|\ud83d\uddfb|\ud83d\uddfc|\ud83d\uddfd|\ud83d\uddfe|\ud83d\uddff|\ud83d\ude01|\ud83d\ude02|\ud83d\ude03|\ud83d\ude04|\ud83d\ude05|\ud83d\ude06|\ud83d\ude09|\ud83d\ude0a|\ud83d\ude0b|\ud83d\ude0c|\ud83d\ude0d|\ud83d\ude0f|\ud83d\ude12|\ud83d\ude13|\ud83d\ude14|\ud83d\ude16|\ud83d\ude18|\ud83d\ude1a|\ud83d\ude1c|\ud83d\ude1d|\ud83d\ude1e|\ud83d\ude20|\ud83d\ude21|\ud83d\ude22|\ud83d\ude23|\ud83d\ude24|\ud83d\ude25|\ud83d\ude28|\ud83d\ude29|\ud83d\ude2a|\ud83d\ude2b|\ud83d\ude2d|\ud83d\ude30|\ud83d\ude31|\ud83d\ude32|\ud83d\ude33|\ud83d\ude35|\ud83d\ude37|\ud83d\ude38|\ud83d\ude39|\ud83d\ude3a|\ud83d\ude3b|\ud83d\ude3c|\ud83d\ude3d|\ud83d\ude3e|\ud83d\ude3f|\ud83d\ude40|\ud83d\ude45|\ud83d\ude46|\ud83d\ude47|\ud83d\ude48|\ud83d\ude49|\ud83d\ude4a|\ud83d\ude4b|\ud83d\ude4c|\ud83d\ude4d|\ud83d\ude4e|\ud83d\ude4f|\ud83d\ude80|\ud83d\ude83|\ud83d\ude84|\ud83d\ude85|\ud83d\ude87|\ud83d\ude89|\ud83d\ude8c|\ud83d\ude8f|\ud83d\ude91|\ud83d\ude92|\ud83d\ude93|\ud83d\ude95|\ud83d\ude97|\ud83d\ude99|\ud83d\ude9a|\ud83d\udea2|\ud83d\udea4|\ud83d\udea5|\ud83d\udea7|\ud83d\udea8|\ud83d\udea9|\ud83d\udeaa|\ud83d\udeab|\ud83d\udeac|\ud83d\udead|\ud83d\udeb2|\ud83d\udeb6|\ud83d\udeb9|\ud83d\udeba|\ud83d\udebb|\ud83d\udebc|\ud83d\udebd|\ud83d\udebe|\ud83d\udec0|\ud83c\udde6|\ud83c\udde7|\ud83c\udde8|\ud83c\udde9|\ud83c\uddea|\ud83c\uddeb|\ud83c\uddec|\ud83c\udded|\ud83c\uddee|\ud83c\uddef|\ud83c\uddf0|\ud83c\uddf1|\ud83c\uddf2|\ud83c\uddf3|\ud83c\uddf4|\ud83c\uddf5|\ud83c\uddf6|\ud83c\uddf7|\ud83c\uddf8|\ud83c\uddf9|\ud83c\uddfa|\ud83c\uddfb|\ud83c\uddfc|\ud83c\uddfd|\ud83c\uddfe|\ud83c\uddff|\ud83c\udf0d|\ud83c\udf0e|\ud83c\udf10|\ud83c\udf12|\ud83c\udf16|\ud83c\udf17|\ue50a|\u27b0|\u2797|\u2796|\u2795|\u2755|\u2754|\u2753|\u274e|\u274c|\u2728|\u270b|\u270a|\u2705|\u26ce|\u23f3|\u23f0|\u23ec|\u23eb|\u23ea|\u23e9|\u27bf|\u00a9|\u00ae)|(?:(?:\ud83c\udc04|\ud83c\udd70|\ud83c\udd71|\ud83c\udd7e|\ud83c\udd7f|\ud83c\ude02|\ud83c\ude1a|\ud83c\ude2f|\ud83c\ude37|\u3299|\u303d|\u3030|\u2b55|\u2b50|\u2b1c|\u2b1b|\u2b07|\u2b06|\u2b05|\u2935|\u2934|\u27a1|\u2764|\u2757|\u2747|\u2744|\u2734|\u2733|\u2716|\u2714|\u2712|\u270f|\u270c|\u2709|\u2708|\u2702|\u26fd|\u26fa|\u26f5|\u26f3|\u26f2|\u26ea|\u26d4|\u26c5|\u26c4|\u26be|\u26bd|\u26ab|\u26aa|\u26a1|\u26a0|\u2693|\u267f|\u267b|\u3297|\u2666|\u2665|\u2663|\u2660|\u2653|\u2652|\u2651|\u2650|\u264f|\u264e|\u264d|\u264c|\u264b|\u264a|\u2649|\u2648|\u263a|\u261d|\u2615|\u2614|\u2611|\u260e|\u2601|\u2600|\u25fe|\u25fd|\u25fc|\u25fb|\u25c0|\u25b6|\u25ab|\u25aa|\u24c2|\u231b|\u231a|\u21aa|\u21a9|\u2199|\u2198|\u2197|\u2196|\u2195|\u2194|\u2139|\u2122|\u2049|\u203c|\u2668)([\uFE0E\uFE0F]?)))/g,n=/[&<>'"]/g,i=/IFRAME|NOFRAMES|NOSCRIPT|SCRIPT|SELECT|STYLE|TEXTAREA|[a-z]/,r=String.fromCharCode;return e;function u(e){return document.createTextNode(e)}function o(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function c(e,t){for(var d,n,r=e.childNodes,u=r.length;u--;)3===(n=(d=r[u]).nodeType)?t.push(d):1!==n||i.test(d.nodeName)||c(d,t);return t}function s(e,t){return v("️"===t?e.slice(0,-1):3===e.length&&"️"===e.charAt(1)?e.charAt(0)+e.charAt(2):e)}function a(e,t){for(var n,i,r,o,a,l,f,h,p,v,g,b,m,S,k=c(e,[]),w=k.length;w--;){for(r=!1,o=document.createDocumentFragment(),l=(a=k[w]).nodeValue,h=0;f=d.exec(l);){if((p=f.index)!==h&&o.appendChild(u(l.slice(h,p))),g=f[0],b=f[1],m=f[2],h=p+g.length,"︎"!==m&&(S=t.callback(s(b,m),t,m))){for(i in(v=new Image).onerror=t.onerror,v.setAttribute("draggable","false"),n=t.attributes(b,m))n.hasOwnProperty(i)&&0!==i.indexOf("on")&&!v.hasAttribute(i)&&v.setAttribute(i,n[i]);v.className=t.className,v.alt=g,v.src=S,r=!0,o.appendChild(v)}v||o.appendChild(u(g)),v=null}r&&(h<l.length&&o.appendChild(u(l.slice(h))),a.parentNode.replaceChild(o,a))}return e}function l(e,t){return p(e,(function(e,d,i){var r,u,o,c=e;if("︎"!==i&&(o=t.callback(s(d,i),t,i))){for(u in c="<img ".concat('class="',t.className,'" ','draggable="false" ','alt="',e,'"',' src="',o,'"'),r=t.attributes(d,i))r.hasOwnProperty(u)&&0!==u.indexOf("on")&&-1===c.indexOf(" "+u+"=")&&(c=c.concat(" ",u,'="',r[u].replace(n,f),'"'));c=c.concat(">")}return c}))}function f(e){return t[e]}function h(){return null}function p(e,t){return String(e).replace(d,t)}function v(e,t){for(var d=[],n=0,i=0,r=0;r<e.length;)n=e.charCodeAt(r++),i?(d.push((65536+(i-55296<<10)+(n-56320)).toString(16)),i=0):55296<=n&&n<=56319?i=n:d.push(n.toString(16));return d.join(t||"-")}}(),window.StickersModule.Service={},function(e){e.Service.Ajax=function(t){if((t=t||{}).url){t.type=t.type&&t.type.toUpperCase()||"GET",t.headers=t.headers||{},t.data=t.data||{},t.success=t.success||function(){},t.error=t.error||function(){},t.complete=t.complete||function(){},t.headers.Apikey=e.Configs.apiKey,t.headers.Platform="JS",t.headers.Localization=e.Configs.lang,t.headers.UserId=e.Configs.userId,t.headers.AppID=e.Configs.appid,t.headers["Cache-Control"]="no-cache, no-store, max-age=0","POST"!=t.type&&"PUT"!=t.type||(t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.headers.DeviceId=e.Service.Storage.getDeviceId());var d=new XMLHttpRequest;for(var n in d.open(t.type,t.url,!0),t.headers)d.setRequestHeader(n,t.headers[n]);d.onreadystatechange=function(){if(4==d.readyState){if(200==d.status)t.success(JSON.parse(d.responseText),d);else{var e={};try{e=JSON.parse(d.responseText)}catch(t){e={}}t.error(e,d)}t.complete(JSON.parse(d.responseText),d)}},d.send(JSON.stringify(t.data))}}}(window.StickersModule),function(e){e.Service.Api={getApiVersion:function(){return 2},getPacks:function(t){e.Service.Ajax({type:"get",url:e.Service.Url.getUserPacksUrl(),success:function(d){(d=d||{}).meta=d.meta||{},d.meta.shop_last_modified=d.meta.shop_last_modified||0,e.Service.Metadata.setStoreLastModified(1e3*d.meta.shop_last_modified),t&&t(d.data)}})},getPackPreview:function(t,d){e.Service.Ajax({type:"get",url:e.Service.Url.getPackPreviewUrl(t),success:function(e){d&&d(e.data)}})},sendStatistic:function(t){e.Service.Ajax({type:"post",url:e.Service.Url.getStatisticUrl(),data:t})},updateUserData:function(t){return e.Service.Ajax({type:"put",url:e.Service.Url.getUserDataUrl(),data:t,headers:{"Content-Type":"application/json"}})},purchasePack:function(t,d,n,i){e.Service.Ajax({type:"post",url:e.Service.Url.getPurchaseUrl(t,d),success:function(e){n&&n(e.data)},error:function(){var n=e.Service.PendingRequest;n.add(n.tasks.purchasePack,{packName:t,pricePoint:d}),i&&i()}})},getContentById:function(t,d){e.Service.Ajax({type:"get",url:e.Service.Url.getContentByIdUrl(t),success:function(e){d&&d(e.data)}})},hidePack:function(t,d,n){return e.Service.Ajax({type:"DELETE",url:e.Service.Url.getHidePackUrl(t),success:function(e){d&&d(e.data)},error:function(){n&&n()}})}}}(window.StickersModule),window.StickersModule.Service.El={css:function(e,t){return e.style&&e.style[t]||e.currentStyle&&e.currentStyle[t]||getComputedStyle(e)[t]},outerWidth:function(e){return e.offsetWidth+(parseInt(this.css(e,"marginLeft"))+parseInt(this.css(e,"marginRight")))},appendAfter:function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},getParents:function(e,t){var d=[];if(t)var n=t.charAt(0);for(;e&&e!==document;e=e.parentNode)t?("."===n&&e.classList.contains(t.substr(1))&&d.push(e),"#"===n&&e.id===t.substr(1)&&d.push(e),"["===n&&e.hasAttribute(t.substr(1,t.length-1))&&d.push(e),e.tagName.toLowerCase()===t&&d.push(e)):d.push(e);return 0===d.length?null:d}},window.StickersModule.Service.Emoji={emojiProvider:null,init:function(e){this.emojiProvider=e},parseEmojiFromText:function(e){return this.emojiProvider.parse(e,{size:2==window.devicePixelRatio?72:36})},parseEmojiFromHtml:function(e){var t=document.createElement("div");t.innerHTML=e;for(var d=t.getElementsByClassName("emoji"),n=d.length-1;n>=0;n--){var i=d[n].getAttribute("alt");t.replaceChild(document.createTextNode(i),d[n])}return t.innerHTML}},window.StickersModule.Service.Event={events:{resize:"resize",popoverShown:"sp:popover:shown",popoverHidden:"sp:popover:hidden",showContentHighlight:"sp:content:highlight:show",hideContentHighlight:"sp:content:highlight:hide"},dispatch:function(e,t){var d;e&&(t=t||window,document.createEvent?(d=document.createEvent("HTMLEvents")).initEvent(e,!0,!0):document.createEventObject&&((d=document.createEventObject()).eventType=e),d.eventName=e,t.dispatchEvent?t.dispatchEvent(d):t.fireEvent?t.fireEvent("on"+d.eventType,d):t[e]?t[e]():t["on"+e]&&t["on"+e]())},popoverShown:function(){this.dispatch(this.events.popoverShown)},popoverHidden:function(){this.dispatch(this.events.popoverHidden)},changeContentHighlight:function(e){this.dispatch(e?this.events.showContentHighlight:this.events.hideContentHighlight)},resize:function(e){this.dispatch(this.events.resize,e)}},function(e){e.Service.Helper={extend:function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var d in arguments[t])arguments[t].hasOwnProperty(d)&&(e[d]=arguments[t][d]);return e},setConfig:function(t){e.Configs=this.extend({},e.Configs||{},t)},setEvent:function(e,t,d,n){t.addEventListener(e,(function(e){for(var t,i=e.target;i&&!(t=i.className.match(d));)i=i.parentElement;t&&n(i,e)}))},urlParamsSerialize:function(e){var t=[];for(var d in e)e.hasOwnProperty(d)&&t.push(encodeURIComponent(d)+"="+encodeURIComponent(e[d]));return t.join("&")},isIE:function(){return"Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/MSIE\s+\d+\.\d+/)||navigator.userAgent.match(/Trident\/\d+\.\d+/)},md5:function(t){return e.Libs.MD5(t)},getLocation:function(e){var t=document.createElement("a");return t.href=e,t},getDomain:function(e){var t=this.getLocation(e);return t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")},getMobileOS:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/iPad/i)||e.match(/iPhone/i)||e.match(/iPod/i)?"ios":e.match(/Android/i)?"android":"other"}}}(window.StickersModule),function(e){e.Service.Highlight={check:function(){var t=e.Service.Packs.isExistUnwatched();t||0!=e.Service.Storage.getRecentStickers().length||(t=!0),!t&&e.Service.Metadata.getStoreLastModified()>e.Service.Metadata.getStoreLastVisit()&&(t=!0),e.Service.Event.changeContentHighlight(t)}}}(window.StickersModule),function(e){e.Service.Metadata={metadata:null,get:function(t){return this.metadata=this.metadata||e.Service.Storage.getMetadata()||{},this.metadata[t]||null},set:function(t,d){this.metadata=this.metadata||e.Service.Storage.getMetadata()||{},this.metadata[t]=d,e.Service.Storage.setMetadata(this.metadata)},getStoreLastVisit:function(){return this.get("last_store_visit")||0},setStoreLastVisit:function(e){return this.set("last_store_visit",e)},getStoreLastModified:function(){return this.get("shop_last_modified")},setStoreLastModified:function(e){return this.set("shop_last_modified",e)}}}(window.StickersModule),function(e){var t;e.Service.Pack={init:function(e){t=e},purchase:function(d,n,i,r,u){i=void 0===i||i,e.Service.Api.purchasePack(d,n,(function(n){n.isUnwatched=i;var u=[];if(n.stickers)for(var o=0;o<n.stickers.length;o++){var c=n.stickers[o];c.pack=d,e.Service.Storage.setContentById(c.content_id,c),u.push(c.content_id)}n.stickers=u,e.Service.Storage.setPack(n.pack_name,n,!0),t&&t.view.isRendered&&t.view.tabsView.renderPacks(),r&&r(n)}),(function(){u&&u()}))},remove:function(d,n,i){e.Service.Api.hidePack(d,(function(){var i=e.Service.Storage.getPack(d);i.user_status="hidden",e.Service.Storage.setPack(d,i),t&&t.view.isRendered&&(t.view.tabsView.renderPacks(),t.view.tabsView.controls.history.el.click()),n&&n()}),(function(){i&&i()}))},getMainIcon:function(t,d){e.Service.Api.getPackPreview(t,(function(t){var n=t&&t.main_icon&&t.main_icon[e.Configs.resolution]||null;d&&d(n)}))},isHidden:function(e){return"hidden"==e.user_status}}}(window.StickersModule),function(e){e.Service.Packs={fetch:function(t){e.Service.Api.getPacks((function(d){var n=e.Service.Storage.getPacks(),i=[];if(n.length)for(var r=0;r<d.length;r++){for(var u=null,o=0;o<n.length;o++)if(d[r].pack_name==n[o].pack_name){u=n[o];break}u&&d[r].updated_at==u.updated_at&&d[r].user_status==u.user_status?d[r]=u:i.push(d[r])}else i=d;let c=[],s=[];for(let e=0;e<d.length;e++)1!=s[d[e].pack_id]&&(s[d[e].pack_id]=!0,c.push(d[e]));for(e.Service.Storage.setPacks(c),r=0;r<i.length;r++)e.Service.Pack.isHidden(i[r])||e.Service.Pack.purchase(i[r].pack_name,i[r].pricepoint,!!n.length);!function(){for(var t=e.Service.Storage.getPacks(),d=e.Service.Storage.getRecentStickers(),n=0;n<d.length;n++)e.Service.Sticker.getById(d[n],(function(i){var r=null;if(t)for(var u=0;u<t.length;u++)if(t[u].pack_name==i.pack){r=t[u];break}if(null==r)return d.splice(n,1),void e.Service.Storage.setRecentStickers(d);var o=!1;if(r.stickers)for(u=0;u<r.stickers.length;u++)if(r.stickers[u]==i.content_id){o=!0;break}return o?void 0:(d.splice(n,1),void e.Service.Storage.setRecentStickers(d))}))}(),e.Service.Highlight.check(),t&&t()}))},isExistUnwatched:function(){for(var t=e.Service.Storage.getPacks(),d=0;d<t.length;d++)if(t[d].isUnwatched)return!0;return!1}}}(window.StickersModule),function(e){e.Service.PendingRequest={tasks:{activateUserPack:"activateUserPack",purchasePack:"purchasePack"},init:function(){this.run()},add:function(t,d){e.Service.Storage.addPendingRequestTask({name:t,data:d})},run:function(){for(var t,d=e.Service.Storage.popPendingRequestTask();d;){switch(d.name){case this.tasks.activateUserPack:case this.tasks.purchasePack:t=d.data,e.Service.Pack.purchase(t.packName,t.pricePoint)}d=e.Service.Storage.popPendingRequestTask()}}}}(window.StickersModule),StickersModule.Service.Statistic={messageSend:function(e){},useSticker:function(e){},useEmoji:function(e){}},function(e){e.Service.Sticker={parseStickerId:function(e){if(!e)return null;var t=null,d=e.match(/\[\[(\S+)_(\S+)\]\]/),n=e.match(/\[\[(\d+)\]\]/);return d?t=d[1]+"_"+d[2]:n&&(t=n[1]),t},parse:function(t,d){var n=this.parseStickerId(t);n?e.Service.Sticker.getById(n,(function(t,i){var r=t.image&&t.image[e.Configs.resolution];d&&d({id:n,url:r,html:'<img src="'+r+'" class="stickerpipe-sticker" data-sticker-id="'+n+'">'},i)})):d&&d(null)},parseAnimate:function(t,d){var n=this.parseStickerId(t);n?e.Service.Sticker.getById(n,(function(t,i){var r=t.image&&t.image[e.Configs.resolution];d&&d({id:n,url:r,html:'<lottie-player id="animate-sticker" sticker-id="'+n+'" src="'+r+'" mode="normal"  background="transparent"  speed="1"  style="width: 220px;"  loop></lottie-player>'},i)})):d&&d(null)},getById:function(t,d){var n=e.Service.Storage.getContentById(t);n?d&&d(n,!1):e.Service.Api.getContentById(t,(function(n){e.Service.Storage.setContentById(t,n),d&&d(n,!0)}))},isSticker:function(e){return!!this.parseStickerId(e)}}}(window.StickersModule),function(e){function t(t){return e.Configs.storagePrefix+t}e.Service.Storage={set:function(e,d){e=t(e);try{localStorage.setItem(e,JSON.stringify({data:d}))}catch(t){console&&console.warn("LocalStorage didn't successfully save the \"{"+e+": "+d+'}" pair, because the localStorage is full.')}},get:function(e,d){var n;e=t(e);try{n=JSON.parse(localStorage.getItem(e))}catch(e){n=null}return null===n?d:n.data||d},getAll:function(){return Object.keys(localStorage).map(function(e){return this.get(e)}.bind(this))},rm:function(e){e=t(e),localStorage.removeItem(e)},flush:function(){localStorage.clear()},getRecentStickers:function(){return this.get("recent_stickers")||[]},setRecentStickers:function(e){return this.set("recent_stickers",e)},addRecentSticker:function(e){for(var t=this.getRecentStickers(),d=0;d<t.length;d++)t[d]==e&&t.splice(d,1);t.unshift(e),this.setRecentStickers(t)},getPacks:function(){return this.get("packs")||[]},setPacks:function(e){return this.set("packs",e)},getPack:function(e){for(var t=this.getPacks(),d=0;d<t.length;d++)if(e==t[d].pack_name)return t[d];return null},setPack:function(e,t,d){d=void 0!==d&&d;for(var n=!1,i=this.getPacks(),r=0;r<i.length;r++)if(e==i[r].pack_name){i[r]=t,n=!0,d&&i.splice(r,1);break}n&&!d||i.unshift(t),this.setPacks(i)},getContent:function(){return this.get("content")||{}},setContent:function(e){return this.set("content",e||{})},getContentById:function(e){return this.getContent()["id"+e]||null},setContentById:function(e,t){var d=this.getContent();d["id"+e]=t||null,this.setContent(d)},getDeviceId:function(){var e=this.get("device_id");return void 0===e&&(e=+new Date,this.set("device_id",e)),e},getUserId:function(){return this.get("user_id")},setUserId:function(e){return this.set("user_id",e)},getUserData:function(){return this.get("user_data")},setUserData:function(e){return this.set("user_data",e)},getPendingRequestTasks:function(){return this.get("pending_request_tasks")||[]},setPendingRequestTasks:function(e){return this.set("pending_request_tasks",e)},addPendingRequestTask:function(e){var t=this.getPendingRequestTasks();t.push(e),this.setPendingRequestTasks(t)},popPendingRequestTask:function(){var e=this.getPendingRequestTasks(),t=e.pop();return this.setPendingRequestTasks(e),t},getMetadata:function(){return this.get("metadata")},setMetadata:function(e){return this.set("metadata",e)}}}(window.StickersModule),function(e){e.Service.Url={buildStoreUrl:function(t){t=t||"";var d="JS",n=e.Configs.primaryColor;"ios"!=e.Service.Helper.getMobileOS()&&-1==navigator.appVersion.indexOf("Mac")||(d="ios"),"#"==n.charAt(0)&&(n=n.substr(1));var i=estore.get("theme");i=i&&"dark"==i?"night":"day";var r={apiKey:e.Configs.apiKey,platform:"JS",userId:e.Configs.userId,density:e.Configs.resolution,priceB:e.Configs.priceB,priceC:e.Configs.priceC,is_subscriber:e.Configs.userPremium?1:0,localization:e.Configs.lang,style:d,primaryColor:n,theme:i,app_id:e.Configs.appid,version:(new Date).getTime()},u=e.Configs.storeUrl||this.buildApiUrl("/web");return u+(-1==u.indexOf("?")?"?":"&")+e.Service.Helper.urlParamsSerialize(r)+"#/"+t},buildApiUrl:function(t){return t=t||"",e.Configs.apiUrl+"/api/v"+e.Service.Api.getApiVersion()+t},getUserPacksUrl:function(){var t=this.buildApiUrl("/shop/my");return e.Configs.userPremium&&(t+="?is_subscriber=1"),t},getPackPreviewUrl:function(t){var d=this.buildApiUrl("/packs/"+t);return e.Configs.userPremium&&(d+="?is_subscriber=1"),d},getStatisticUrl:function(){return this.buildApiUrl("/statistics")},getUserDataUrl:function(){return this.buildApiUrl("/user")},getPurchaseUrl:function(t,d){var n="free";return"B"==d?(n="oneoff",e.Configs.userPremium&&(n="subscription")):"C"==d&&(n="oneoff"),this.buildApiUrl("/packs/"+t)+"?"+e.Service.Helper.urlParamsSerialize({purchase_type:n})},getContentByIdUrl:function(e){return this.buildApiUrl("/content/"+e)},getHidePackUrl:function(e){return this.buildApiUrl("/packs/"+e)},getStoreUrl:function(){return this.buildStoreUrl("store/")},getStorePackUrl:function(e){return this.buildStoreUrl("packs/"+e)}}}(window.StickersModule),function(e){e.Service.User={init:function(){},updateUserData:function(){if(e.Configs.userData){var t=e.Service.Storage.getUserData()||{};JSON.stringify(t)!=JSON.stringify(e.Configs.userData)&&(e.Service.Api.updateUserData(e.Configs.userData),e.Service.Storage.setUserData(e.Configs.userData))}}}}(window.StickersModule),window.StickersModule.Configs={},function(e){switch(e.Service.Helper.setConfig({elId:"stickerPipe",resolution:"hdpi",htmlForEmptyRecent:"No recent stickers",apiKey:null,apiUrl:null,appid:0,storagePrefix:"stickerpipe_",enableEmojiTab:!1,enableHistoryTab:!1,enableSettingsTab:!1,enableStoreTab:!0,userId:null,userPremium:!1,userData:{},priceB:null,priceC:null,primaryColor:"",display:"block",height:"350px",width:"320px",lang:document.documentElement.lang.substr(0,2)||"en"}),window.devicePixelRatio){case 1:e.Configs.resolution="hdpi";break;case 2:e.Configs.resolution="xhdpi";break;default:e.Configs.resolution="xxhdpi"}}(window.StickersModule),window.StickersModule.Service.Helper.setConfig({emojiList:["😊","😃","😁","😂","😀","😇","😈","😎","😐","😑","😕","😗","😙","😛","😟","😦","😧","😬","😮","😯","😴","😶","😄","😅","😆","😉","😋","😌","😍","😏","😒","😓","😔","😖","😘","😚","😜","😝","😞","😠","😡","😢","😣","😤","😥","😨","😩","😪","😫","😭","😰","😱","😲","😳","😵","😷","😸","😹","😺","😻","😼","😽","😾","😿","🙀","🙅","🙆","🙇","🙈","🙉","🙊","🙋","🙌","🙍","🙎","🙏","✂","✅","✈","✉","✊","✋","✌","✏","✒","✔","✖","✨","✳","✴","❄","❇","❌","❎","❓","❔","❕","❗","❤","➕","➖","➗","➡","➰","🚀","🚃","🚄","🚅","🚇","🚉","🚌","🚏","🚑","🚒","🚓","🚕","🚗","🚙","🚚","🚢","🚤","🚥","🚧","🚨","🚩","🚪","🚫","🚬","🚭","🚲","🚶","🚹","🚺","🚻","🚼","🚽","🚾","🛀","Ⓜ","🅰","🅱","🅾","🅿","🆎","🆑","🆒","🆓","🆔","🆕","🆖","🆗","🆘","🆙","🆚","🇩🇪","🇬🇧","🇨🇳","🇯🇵","🇰🇷","🇫🇷","🇪🇸","🇮🇹","🇺🇸","🇷🇺","🈁","🈂","🈚","🈯","🈲","🈳","🈴","🈵","🈶","🈷","🈸","🈹","🈺","🉐","🉑","©","®","‼","⁉","8⃣","9⃣","7⃣","6⃣","1⃣","0⃣","2⃣","3⃣","5⃣","4⃣","#⃣","™","ℹ","↔","↕","↖","↗","↘","↙","↩","↪","⌚","⌛","⏩","⏪","⏫","⏬","⏰","⏳","▪","▫","▶","◀","◻","◼","◽","◾","☀","☁","☎","☑","☔","☕","☝","☺","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","♠","♣","♥","♦","♨","♻","♿","⚓","⚠","⚡","⚪","⚫","⚽","⚾","⛄","⛅","⛎","⛔","⛪","⛲","⛳","⛵","⛺","⛽","⤴","⤵","⬅","⬆","⬇","⬛","⬜","⭐","⭕","〰","〽","㊗","㊙","🀄","🃏","🌀","🌁","🌂","🌃","🌄","🌅","🌆","🌇","🌈","🌉","🌊","🌋","🌌","🌏","🌑","🌓","🌔","🌕","🌙","🌛","🌟","🌠","🌰","🌱","🌴","🌵","🌷","🌸","🌹","🌺","🌻","🌼","🌽","🌾","🌿","🍀","🍁","🍂","🍃","🍄","🍅","🍆","🍇","🍈","🍉","🍊","🍌","🍍","🍎","🍏","🍑","🍒","🍓","🍔","🍕","🍖","🍗","🍘","🍙","🍚","🍛","🍜","🍝","🍞","🍟","🍠","🍡","🍢","🍣","🍤","🍥","🍦","🍧","🍨","🍩","🍪","🍫","🍬","🍭","🍮","🍯","🍰","🍱","🍲","🍳","🍴","🍵","🍶","🍷","🍸","🍹","🍺","🍻","🎀","🎁","🎂","🎃","🎄","🎅","🎆","🎇","🎈","🎉","🎊","🎋","🎌","🎍","🎎","🎏","🎐","🎑","🎒","🎓","🎠","🎡","🎢","🎣","🎤","🎥","🎦","🎧","🎨","🎩","🎪","🎫","🎬","🎭","🎮","🎯","🎰","🎱","🎲","🎳","🎴","🎵","🎶","🎷","🎸","🎹","🎺","🎻","🎼","🎽","🎾","🎿","🏀","🏁","🏂","🏃","🏄","🏆","🏈","🏊","🏠","🏡","🏢","🏣","🏥","🏦","🏧","🏨","🏩","🏪","🏫","🏬","🏭","🏮","🏯","🏰","🐌","🐍","🐎","🐑","🐒","🐔","🐗","🐘","🐙","🐚","🐛","🐜","🐝","🐞","🐟","🐠","🐡","🐢","🐣","🐤","🐥","🐦","🐧","🐨","🐩","🐫","🐬","🐭","🐮","🐯","🐰","🐱","🐲","🐳","🐴","🐵","🐶","🐷","🐸","🐹","🐺","🐻","🐼","🐽","🐾","👀","👂","👃","👄","👅","👆","👇","👈","👉","👊","👋","👌","👍","👎","👏","👐","👑","👒","👓","👔","👕","👖","👗","👘","👙","👚","👛","👜","👝","👞","👟","👠","👡","👢","👣","👤","👦","👧","👨","👩","👪","👫","👮","👯","👰","👱","👲","👳","👴","👵","👶","👷","👸","👹","👺","👻","👼","👽","👾","👿","💀","💁","💂","💃","💄","💅","💆","💇","💈","💉","💊","💋","💌","💍","💎","💏","💐","💑","💒","💓","💔","💕","💖","💗","💘","💙","💚","💛","💜","💝","💞","💟","💠","💡","💢","💣","💤","💥","💦","💧","💨","💩","💪","💫","💬","💮","💯","💰","💱","💲","💳","💴","💵","💸","💹","💺","💻","💼","💽","💾","💿","📀","📁","📂","📃","📄","📅","📆","📇","📈","📉","📊","📋","📌","📍","📎","📏","📐","📑","📒","📓","📔","📕","📖","📗","📘","📙","📚","📛","📜","📝","📞","📟","📠","📡","📢","📣","📤","📥","📦","📧","📨","📩","📪","📫","📮","📰","📱","📲","📳","📴","📶","📷","📹","📺","📻","📼","🔃","🔊","🔋","🔌","🔍","🔎","🔏","🔐","🔑","🔒","🔓","🔔","🔖","🔗","🔘","🔙","🔚","🔛","🔜","🔝","🔞","🔟","🔠","🔡","🔢","🔣","🔤","🔥","🔦","🔧","🔨","🔩","🔪","🔫","🔮","🔯","🔰","🔱","🔲","🔳","🔴","🔵","🔶","🔷","🔸","🔹","🔺","🔻","🔼","🔽","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","🕛","🗻","🗼","🗽","🗾","🗿","🚁","🚂","🚆","🚈","🚊","🚍","🚎","🚐","🚔","🚖","🚘","🚛","🚜","🚝","🚞","🚟","🚠","🚡","🚣","🚦","🚮","🚯","🚰","🚱","🚳","🚴","🚵","🚷","🚸","🚿","🛁","🛂","🛃","🛄","🛅","🌍","🌎","🌐","🌒","🌖","🌗","🌘","🌚","🌜","🌝","🌞","🌲","🌳","🍋","🍐","🍼","🏇","🏉","🏤","🐀","🐁","🐂","🐃","🐄","🐅","🐆","🐇","🐈","🐉","🐊","🐋","🐏","🐐","🐓","🐕","🐖","🐪","👥","👬","👭","💭","💶","💷","📬","📭","📯","📵","🔀","🔁","🔂","🔄","🔅","🔆","🔇","🔉","🔕","🔬","🔭","🕜","🕝","🕞","🕟","🕠","🕡","🕢","🕣","🕤","🕥","🕦","🕧"]}),window.StickersModule.Module={},function(e){e.Module.Store={init:function(t){e.Module.Store.View.init(),e.Module.Store.ApiListener.init(),e.Module.Store.Api.init(t)},open:function(t){e.Module.Store.View.init(),e.Module.Store.View.open(t)},close:function(){e.Module.Store.View.close()},setOnPurchaseCallback:function(t){e.Module.Store.Controller.onPurchaseCallback=t},purchaseSuccess:function(t,d){e.Module.Store.Controller.onPurchaseSuccess(t,d)},purchaseFail:function(){e.Module.Store.Controller.onPurchaseFail()}}}(StickersModule),function(e,t){var d;t.Api={init:function(e){d=e},showPack:function(e){t.View.close(),d.open(e.attrs.packName)},purchasePack:function(d){var n=d.attrs.packName,i=(d.attrs.packTitle,"A");!function(t){for(var d=e.Service.Storage.getPacks(),n=0;n<d.length;n++)if(d[n].pack_name==t)return e.Service.Pack.isHidden(d[n])}(n),t.Controller.downloadPack(n,i)},showPagePreloader:function(e){t.View.showPagePreloader(e.attrs.show)},removePack:function(e){t.Controller.removePack(e.attrs.packName)},showBackButton:function(e){let d=t.View.iframe.src;d&&d.includes("#/packs")?t.View.showBackButton("false"):t.View.showBackButton(e.attrs.show)},setYScroll:function(e){t.View.setYScroll(e.attrs.yPosition)},keyUp:function(e){27==e.attrs.keyCode&&t.View.close()}}}(StickersModule,StickersModule.Module.Store),function(e,t){var d=!1;t.ApiListener={init:function(){d||(window.addEventListener("message",(function(e){var d=JSON.parse(e.data);if(d.action){var n=t.Api;n[d.action]&&n[d.action](d)}})),d=!0)}}}(window.StickersModule,StickersModule.Module.Store),function(e,t){function d(d,n){var i=t.View.iframe;i&&i.contentWindow.postMessage(JSON.stringify({action:d,attrs:n}),e.Service.Helper.getDomain(e.Service.Url.buildStoreUrl("/")))}function n(e){t.View.iframe.executeJavaScript(e)}t.Controller={onPurchaseCallback:null,configureStore:function(){d("configure",{canShowPack:!0,canRemovePack:!0})},downloadPack:function(t,d){e.Service.Pack.purchase(t,d,!0,(function(){n("onPackPurchaseSuccess()")}),(function(){n("onPackPurchaseFail()")}))},removePack:function(t){e.Service.Pack.remove(t,(function(){n("onPackRemoveSuccess()")}),(function(){n("onPackRemoveFail()")}))},goBack:function(){n("goBack()")},onPurchaseSuccess:function(e,t){this.downloadPack(e,t)},onPurchaseFail:function(){n("onPackPurchaseFail()")},onScrollContent:function(e){d("onScrollContent",{yPosition:e})}}}(StickersModule,StickersModule.Module.Store),function(e,t){t.View={modal:null,iframe:null,modalBody:null,preloader:null,init:function(){this.iframe=document.createElement("webview"),this.iframe.style.width="100%",this.iframe.style.height="100%",this.iframe.classList.add("sticker-webview"),this.modal=e.Module.Modal.init(this.iframe,{onOpen:function(d,n,i){if(e.Service.Event.resize(),t.ApiListener.init(),"ios"==e.Service.Helper.getMobileOS()){var r=n.getElementsByClassName("sp-modal-body")[0];r.style.overflowY="scroll",r.addEventListener("scroll",function(){t.Controller.onScrollContent(r.scrollTop)}.bind(this)),this.modalBody=r}if(this.iframe.onload=function(){t.Controller.configureStore()},!this.preloader){var u=n.getElementsByClassName("sp-modal-dialog")[0];this.preloader=new e.View.Preloader(u),this.preloader.hide()}}.bind(this)}),this.iframe.addEventListener("dom-ready",(()=>{})),this.iframe.addEventListener("console-message",(function(e){try{var d=JSON.parse(e.message);if(!d.action)return;var n=t.Api;n[d.action]&&n[d.action](d)}catch(e){}})),this.modal.backButton.addEventListener("click",function(){t.Controller.goBack()}.bind(this)),window.addEventListener("resize",function(){this.onWindowResize()}.bind(this))},open:function(t){var d=this;t?e.Service.Sticker.getById(t,(function(t){d.iframe.src=e.Service.Url.getStorePackUrl(t.pack)})):d.iframe.src=e.Service.Url.getStoreUrl(),this.showBackButton("false"),this.modal.open()},close:function(){this.modal&&this.modal.hasGlobalOpened()&&this.modal.close()},showPagePreloader:function(e){this.preloader[e?"show":"hide"]()},showBackButton:function(e){this.modal.backButton.style.display="true"==e?"block":"none"},setYScroll:function(e){this.modalBody&&(this.modalBody.scrollTop=e)},onWindowResize:function(){var t=this.modal.modalEl.getElementsByClassName("sp-modal-dialog")[0];if(t.style.height="",window.innerWidth>700){var d=parseInt(e.Service.El.css(t,"marginTop"),10),n=parseInt(e.Service.El.css(t,"marginBottom"),10),i=window.innerHeight-d-n;t.style.height=i+"px"}}}}(window.StickersModule,StickersModule.Module.Store),function(e){var t=[],d={},n=0,i="sp-modal-lock",r={closeOnEsc:!0,closeOnOverlayClick:!0,onBeforeClose:null,onClose:null,onOpen:null},u=!1,o=null;e.Module.Modal={init:function(c,s){s=e.Service.Helper.extend({},r,s||{});var a={},l=document.createElement("div");l.style.display="none",l.className="sp-modal",s.closeOnOverlayClick&&l.addEventListener("click",function(){a.close(s)}.bind(this));var f=document.createElement("div");f.className="sp-modal-dialog";var h=document.createElement("div");h.className="sp-modal-header";var p=document.createElement("div");p.className="sp-modal-body",l.appendChild(f),f.appendChild(p),f.appendChild(h);var v=document.createElement("div");v.className="sp-modal-back",v.innerHTML='<div class="fa fa-arrow-left sticker-font-size"></div>',a.backButton=v;var g=document.createElement("div");if(g.className="sp-modal-close",g.innerHTML='<div class="fa fa-times sticker-font-size"></div>',g.addEventListener("click",function(){this.close()}.bind(a)),h.appendChild(v),h.appendChild(g),a.modalEl=l,!c||!c.nodeType){try{c=document.querySelector(c)}catch(e){}c||(c=document.createElement("div"))}return p.appendChild(c),document.body.appendChild(a.modalEl),window.addEventListener("keydown",(function(e){})),e.Service.Helper.extend(a,{options:s,contentEl:c,open:function(){if(t.length&&(t[t.length-1].modalEl.style.display="none"),t.push(this),function(){if(!o){(o=document.createElement("div")).className="sp-modal-overlay",document.body.insertBefore(o,document.body.firstChild);var t=e.Service.El.outerWidth(document.body);document.body.classList.add(i),document.getElementsByTagName("html")[0].classList.add(i);var r=e.Service.El.outerWidth(document.body)-t;if(e.Service.Helper.isIE()&&(n=e.Service.El.css(document.body,"marginTop"),document.body.style.marginTop=0),0!=r){for(var u=["html","body"],c=0;c<u.length;c++){var s=u[c],a=document.getElementsByTagName(s)[0];d[s.toLowerCase()]=parseInt(e.Service.El.css(a,"marginRight"))}document.getElementsByTagName("html")[0].style.marginRight=d.html+r+"px",o.style.left=0-r+"px"}}}(),this.modalEl.style.display="block",this.options.closeOnEsc&&window.addEventListener("keyup",function(e){27===e.keyCode&&u&&this.close(this.options)}.bind(this)),this.options.closeOnOverlayClick)for(var r=this.modalEl.children.length;r--;)8!=this.modalEl.children[r].nodeType&&this.modalEl.children[r].addEventListener("click",(function(e){e.stopPropagation()}));document.addEventListener("touchmove",(function(e){})),window.addEventListener("onSelectAll",(function(e){})),this.options.onOpen&&this.options.onOpen(this.contentEl,this.modalEl,o,this.options),u=!0},close:function(){this.options.onClose&&this.options.onClose(this.contentEl,this.modalEl,o,this.options),document.body.removeChild(this.modalEl),t.pop(),t.length?t[t.length-1].modalEl.style.display="block":function(){o.parentNode.removeChild(o),o=null,e.Service.Helper.isIE()&&(document.body.style.marginTop=n+"px");var t=e.Service.El.outerWidth(document.body);if(document.body.classList.remove(i),document.getElementsByTagName("html")[0].classList.remove(i),0!=e.Service.El.outerWidth(document.body)-t)for(var r=["html","body"],u=0;u<r.length;u++){var c=r[u];document.getElementsByTagName(c)[0].style.marginRight=d[c.toLowerCase()]+"px"}}(),u=!1},hasGlobalOpened:function(){return u}})},setDefaultOptions:function(t){r=e.Service.Helper.extend({},r,t)}}}(window.StickersModule),window.StickersModule.View={},function(e){var t="sp-sticker-item",d="sp-emoji";e.View.Block=e.Libs.Class({emojisOffset:0,emojisLimit:100,isRendered:!1,el:null,contentEl:null,tabsView:null,scrollableEl:null,_constructor:function(){this.el=document.getElementById(e.Configs.elId),this.contentEl=document.createElement("div"),this.tabsView=new e.View.Tabs,window.addEventListener("resize",function(){this.onWindowResize()}.bind(this))},render:function(){try{this.tabsView.render()}catch(e){console.error(e),setTimeout((()=>{this.tabsView.render()}),1e3)}this.el.innerHTML="",this.el.className="stickerpipe",this.el.style.width=e.Configs.width,this.scrollableEl=document.createElement("div"),this.scrollableEl.className="sp-scroll-content",this.scrollableEl.style.height=parseInt(e.Configs.height,10)-49+"px",this.scrollableEl.appendChild(this.contentEl),this.scrollableEl.addEventListener("ps-y-reach-end",function(){"sp-emojis"==this.contentEl.className&&this.renderEmojis(this.emojisOffset)}.bind(this)),this.el.appendChild(this.tabsView.el),this.el.appendChild(this.scrollableEl),e.Libs.PerfectScrollbar.initialize(this.scrollableEl),this.isRendered=!0,this.tabsView.onWindowResize(),this.onWindowResize()},renderRecentStickers:function(){var t=e.Service.Storage.getRecentStickers();if(!t.length)return this.contentEl.className="sp-recent-empty",this.contentEl.innerHTML=e.Configs.htmlForEmptyRecent,this.updateScroll("top"),!1;this.renderStickers(t)},renderEmojiBlock:function(){this.contentEl.innerHTML="",this.contentEl.className="sp-emojis",this.emojisOffset=0,this.renderEmojis(this.emojisOffset),this.updateScroll("top")},renderPack:function(e){this.renderStickers(e.stickers)},renderStickers:function(d){var n=this;function i(d){var i=document.createElement("span");i.className="sp-sticker-placeholder",i.style.background=e.Configs.primaryColor||"#e1e1e1",i.setAttribute("data-sticker-id",d),i.setAttribute("is-animate",!1),e.Service.Sticker.getById(d,(function(d){if(d.is_animate){i.setAttribute("is-animate",!0),i.className=t,i.style.background="",n.contentEl.appendChild(i);let r=d.image[e.Configs.resolution];i.innerHTML='<lottie-player src="'+r+'"  background="transparent" speed="1"  style="width: 80px; height: 80px;"  loop hover></lottie-player>'}else{var r=new Image;r.src=d.image[e.Configs.resolution],r.onload=function(){i.className=t,i.style.background="",i.appendChild(r)},r.onerror=function(){}}})),n.contentEl.appendChild(i)}this.contentEl.innerHTML="",this.contentEl.className="sp-stickers";for(var r=0;r<d.length;r++)i(d[r]);this.updateScroll("top")},renderEmojis:function(t){if(!(t>e.Configs.emojiList.length-1)){var n=t+this.emojisLimit;n>e.Configs.emojiList.length-1&&(n=e.Configs.emojiList.length);for(var i=t;i<n;i++){var r=e.Configs.emojiList[i],u=document.createElement("span"),o=e.Service.Emoji.parseEmojiFromText(r);u.className=d,u.innerHTML=o,this.contentEl.appendChild(u)}this.emojisOffset=n,this.updateScroll()}},handleClickOnSticker:function(d){e.Service.Helper.setEvent("click",this.contentEl,t,d)},handleClickOnEmoji:function(t){e.Service.Helper.setEvent("click",this.contentEl,d,t)},open:function(e){(e=e||null)&&this.tabsView.activeTab(e),this.tabsView.reinitStickerIfNeed(this.isRendered),this.tabsView.hasActiveTab||this.tabsView.activeLastUsedStickersTab()},close:function(){},updateScroll:function(t){"top"==(t=t||"relative")&&(this.scrollableEl.scrollTop=0),e.Libs.PerfectScrollbar.update(this.scrollableEl)},onWindowResize:function(){}})}(window.StickersModule),function(e){var t=e.View.Block;e.View.Popover=t.extend({popoverEl:null,triangleEl:null,toggleEl:null,active:!1,handleShowPopup:null,_constructor:function(){t.prototype._constructor.apply(this,arguments);var d=this;console.log("createStickerPopup"),this.toggleEl=document.getElementById(e.Configs.elId),this.handleShowPopup=function(){d.toggle()},this.toggleEl.addEventListener("click",this.handleShowPopup),this.popoverEl=document.createElement("div"),this.popoverEl.className="stickerpipe-popover",this.el=document.createElement("div"),this.triangleEl=document.createElement("div"),this.triangleEl.className="sp-arrow",this.popoverEl.appendChild(this.el),this.popoverEl.appendChild(this.triangleEl),this.handleClickOnSticker(function(){this.toggle()}.bind(this)),document.body.addEventListener("click",(function(e){function t(e,t){for(var d=t.parentNode;null!=d;){if(d==e)return!0;d=d.parentNode}return!1}d.active&&(t(d.popoverEl,e.target)||t(d.toggleEl.parentElement,e.target)||d.toggle())})),window.addEventListener(e.Service.Event.events.showContentHighlight,(function(){d.toggleEl&&d.toggleEl.classList.add("stickerpipe-content-highlight")})),window.addEventListener(e.Service.Event.events.hideContentHighlight,(function(){d.toggleEl&&d.toggleEl.classList.remove("stickerpipe-content-highlight")})),window.addEventListener(e.Service.Event.events.popoverShown,(function(){e.Service.Event.resize()}))},toggle:function(){this.active?this.close():this.open()},open:function(){this.active||(this.active=!0,this.toggleEl.parentElement.appendChild(this.popoverEl),this.positioned(),e.Service.Event.popoverShown()),t.prototype.open.apply(this,arguments)},close:function(){this.active=!1;try{this.toggleEl&&this.popoverEl&&this.toggleEl.parentElement.removeChild(this.popoverEl)}catch(e){console.log(e)}e.Service.Event.popoverHidden(),this.popoverEl.style.marginTop=0},destroy:function(){this.active&&this.close(),delete this.popoverEl,this.toggleEl.removeEventListener("click",this.handleShowPopup),delete this.toggleEl,delete this.triangleEl},positioned:function(){var e=0;if(this.triangleEl){var t=this.toggleEl.currentStyle||window.getComputedStyle(this.toggleEl),d=parseInt(t.marginLeft,10);this.popoverEl.style.marginLeft=d+"px",this.triangleEl.style.marginLeft=this.toggleEl.getBoundingClientRect().left-this.popoverEl.getBoundingClientRect().left+this.toggleEl.clientWidth/2-this.triangleEl.offsetWidth/2+"px","none"!=(this.triangleEl.currentStyle||window.getComputedStyle(this.triangleEl)).display&&(e=15);var n=this.toggleEl.getBoundingClientRect().top+this.toggleEl.offsetHeight-this.popoverEl.getBoundingClientRect().top;this.popoverEl.style.marginTop=-(this.popoverEl.offsetHeight+this.toggleEl.offsetHeight+e-n+5)+"px"}else console&&console.error("error: triangle not found")}})}(window.StickersModule),window.StickersModule.View.Preloader=function(e){var t=document.createElement("div");return t.className="sp-preloader",t.innerHTML='<div class="sp-preloader-content"><div class="sp-preloader-chasing-dots"><div class="sp-preloader-child sp-preloader-dot1"></div><div class="sp-preloader-child sp-preloader-dot2"></div></div></div>',e&&e.appendChild(t),{getEl:function(){return t},show:function(){t.style.display=""},hide:function(){t.style.display="none"}}},function(e){var t="sp-control-tab",d="sp-unwatched-content",n="sp-pack-tab",i="sp-tab-active";e.View.Tabs=e.Libs.Class({el:null,scrollableContainerEl:null,scrollableContentEl:null,packTabs:{},packTabsIndexes:{},hasActiveTab:!1,controls:{emoji:{id:"spTabEmoji",class:"sp-tab-emoji",icon:"sp-icon-face",el:null,isTab:!0},history:{id:"spTabHistory",class:"sp-tab-history",icon:"fa fa-clock-o sticker-icon-size sticker-font-size",el:null,isTab:!0},settings:{id:"spTabSettings",class:"sp-tab-settings",icon:"sp-icon-settings",el:null,isTab:!1},store:{id:"spTabStore",class:"sp-tab-store",icon:"fa fa-plus sticker-icon-size sticker-font-size",el:null,isTab:!1},prevPacks:{id:"spTabPrevPacks",class:"sp-tab-prev-packs",icon:"fa fa-angle-left sticker-icon-size sticker-font-size",el:null,isTab:!1},nextPacks:{id:"spTabNextPacks",class:"sp-tab-next-packs",icon:"fa fa-angle-right sticker-icon-size sticker-font-size",el:null,isTab:!1}},_constructor:function(){this.el=document.createElement("div"),window.addEventListener("resize",function(){this.onWindowResize()}.bind(this))},render:function(){this.el.className="sp-tabs",this.el.innerHTML="",this.renderPrevPacksTab(),this.renderScrollableContainer(),this.renderPacks(),this.renderNextPacksTab(),this.renderStoreTab()},renderScrollableContainer:function(){this.scrollableContentEl=document.createElement("div"),this.scrollableContentEl.className="sp-tabs-scrollable-content",this.scrollableContainerEl=document.createElement("div"),this.scrollableContainerEl.className="sp-tabs-scrollable-container",this.scrollableContainerEl.appendChild(this.scrollableContentEl),this.el.appendChild(this.scrollableContainerEl)},renderControlButton:function(e){e.isTab=e.isTab||!1;var d=[e.class];d.push(e.isTab?t:"sp-control-button");var n='<span class="'+e.icon+'"></span>';return e.el=this.renderTab(e.id,d,n),e.el},renderPackTab:function(e){var t=[n];e.isUnwatched&&t.push(d);var i="<img src="+e.tab_icon.xxhdpi+">",r=this.renderTab(null,t,i,{"data-pack-name":e.pack_name});return r.addEventListener("click",function(){r.classList.remove(d)}.bind(this)),this.packTabs[e.pack_name]=r,r},renderTab:function(e,d,r,u){d=d||[],u=u||{};var o=document.createElement("span");for(var c in e&&(o.id=e),d.push("sp-tab-item"),o.classList.add.apply(o.classList,d),u)o.setAttribute(c,u[c]);return o.innerHTML=r,o.addEventListener("click",function(){if(o.classList.contains(t)||o.classList.contains(n)){for(var e in this.packTabs)this.packTabs[e].classList.remove(i);for(var d in this.controls){var r=this.controls[d];r&&r.el&&r.el.classList.remove(i)}o.classList.add(i)}}.bind(this)),o},renderPacks:function(){this.scrollableContentEl.innerHTML="",this.renderEmojiTab(),this.renderHistoryTab();for(var t=e.Service.Storage.getPacks(),d=0;d<t.length;d++){var n=t[d];e.Service.Pack.isHidden(n)||(this.scrollableContentEl.appendChild(this.renderPackTab(n)),this.packTabsIndexes[n.pack_name]=d)}this.renderSettingsTab()},renderEmojiTab:function(){e.Configs.enableEmojiTab&&this.scrollableContentEl.appendChild(this.renderControlButton(this.controls.emoji))},renderHistoryTab:function(){e.Configs.enableHistoryTab&&this.scrollableContentEl.appendChild(this.renderControlButton(this.controls.history))},renderSettingsTab:function(){e.Configs.enableSettingsTab&&this.scrollableContentEl.appendChild(this.renderControlButton(this.controls.settings))},renderStoreTab:function(){e.Configs.enableStoreTab&&(this.el.appendChild(this.renderControlButton(this.controls.store)),e.Service.Metadata.getStoreLastModified()>e.Service.Metadata.getStoreLastVisit()&&this.controls.store.el.classList.add("sp-unwatched-content"))},renderPrevPacksTab:function(){this.el.appendChild(this.renderControlButton(this.controls.prevPacks)),e.Service.Helper.setEvent("click",this.el,this.controls.prevPacks.class,this.onClickPrevPacksButton.bind(this))},renderNextPacksTab:function(){this.el.appendChild(this.renderControlButton(this.controls.nextPacks)),e.Service.Helper.setEvent("click",this.el,this.controls.nextPacks.class,this.onClickNextPacksButton.bind(this))},onClickPrevPacksButton:function(){var e=this.scrollableContainerEl.offsetWidth,t=(parseInt(this.scrollableContentEl.style.left,10)||0)+48*parseInt(e/48,10);t=t>0?0:t,this.scrollableContentEl.style.left=t+"px",this.onWindowResize()},onClickNextPacksButton:function(){var e=this.scrollableContainerEl.offsetWidth,t=parseInt(this.scrollableContentEl.style.left,10)||0,d=-48*parseInt(e/48,10)+t;this.scrollableContentEl.style.left=d+"px",this.onWindowResize()},activeTab:function(t){var d=this.packTabsIndexes[t];e.Configs.enableEmojiTab&&d++,e.Configs.enableHistoryTab&&d++,this.packTabs[t].click(),this.hasActiveTab=!0;var i=this.scrollableContentEl.getElementsByClassName(n)[0].offsetWidth,r=this.scrollableContainerEl.offsetWidth,u=parseInt(r/i,10),o=-parseInt(d/u,10)*r;o=-o<u*i?0:o+6,this.scrollableContentEl.style.left=o+"px",this.onWindowResize()},activeLastUsedStickersTab:function(){this.controls.history.el.click(),this.hasActiveTab=!0},reinitStickerIfNeed:function(e){this.controls.store&&this.controls.store.el&&0!=e||utility.initStickerPipe(serverConnection.phone)},handleClickOnEmojiTab:function(t){e.Service.Helper.setEvent("click",this.el,this.controls.emoji.class,t)},handleClickOnRecentTab:function(t){e.Service.Helper.setEvent("click",this.el,this.controls.history.class,t)},handleClickOnPackTab:function(t){e.Service.Helper.setEvent("click",this.el,n,t)},handleClickOnStoreTab:function(t){e.Service.Helper.setEvent("click",this.el,this.controls.store.class,t)},onWindowResize:function(){this.el.parentElement&&(this.controls.prevPacks.el&&(parseInt(this.scrollableContentEl.style.left,10)<0?this.controls.prevPacks.el.style.display="block":this.controls.prevPacks.el.style.display="none"),this.controls.nextPacks.el&&(this.scrollableContentEl.scrollWidth+(parseInt(this.scrollableContentEl.style.left,10)||0)>this.scrollableContainerEl.offsetWidth?this.controls.nextPacks.el.style.display="block":this.controls.nextPacks.el.style.display="none"))}})}(window.StickersModule),function(e,t){e.Stickers=t.Libs.Class({view:null,_constructor:function(e){t.Service.Helper.setConfig(e);var d=t.Service.Helper.getMobileOS();if("ios"!=d&&"android"!=d||(e.enableEmojiTab=!1),!t.Configs.apiKey||!t.Configs.userId)throw new Error("Empty one of required data [apiKey, userId]");t.Configs.userId=t.Service.Helper.md5(t.Configs.userId+t.Configs.apiKey),t.Configs.userId!=t.Service.Storage.getUserId()&&(t.Service.Storage.setPacks([]),t.Service.Storage.setRecentStickers([]),t.Service.Storage.setUserData({}),t.Service.Storage.setPendingRequestTasks([]),t.Service.Metadata.setStoreLastVisit(0)),t.Service.Storage.setUserId(t.Configs.userId),t.Module.Store.init(this),t.Service.User.init(),t.Service.Pack.init(this),t.Service.Emoji.init(t.Libs.Twemoji),t.Service.PendingRequest.init()},render:function(e,d){t.Configs.elId=d||t.Configs.elId,this.view=new t.View.Popover,this.delegateEvents(),this.view.render(),e&&e(),t.Service.Packs.fetch((function(){})),setInterval((function(){t.Service.Packs.fetch()}),36e5)},delegateEvents:function(){var e=this;this.view.tabsView.handleClickOnEmojiTab((function(){e.view.renderEmojiBlock()})),this.view.tabsView.handleClickOnRecentTab((function(){e.view.renderRecentStickers()})),this.view.tabsView.handleClickOnStoreTab((function(){t.Module.Store.open(),t.Service.Metadata.setStoreLastVisit(+new Date),t.Service.Highlight.check(),e.view.tabsView.controls.store.el.classList.remove("sp-unwatched-content")})),this.view.tabsView.handleClickOnPackTab((function(d){var n=d.getAttribute("data-pack-name"),i=t.Service.Storage.getPack(n);i&&(i.isUnwatched=!1,t.Service.Storage.setPack(n,i),e.view.renderPack(i)),t.Service.Highlight.check()})),this.view.handleClickOnSticker((function(e){var d=e.getAttribute("data-sticker-id");t.Service.Statistic.useSticker(d),t.Service.Storage.addRecentSticker(d),t.Service.Highlight.check()})),this.view.handleClickOnEmoji((function(e){var d=t.Service.Emoji.parseEmojiFromHtml(e.innerHTML);t.Service.Statistic.useEmoji(d)}))},fetchPacks:function(e){t.Service.Packs.fetch(e)},isSticker:function(e){return t.Service.Sticker.isSticker(e)},parseStickerFromText:function(e,d){return t.Service.Sticker.parse(e,d)},parseStickerAnimateFromText:function(e,d){return t.Service.Sticker.parseAnimate(e,d)},parseEmojiFromText:function(e){return t.Service.Emoji.parseEmojiFromText(e)},parseEmojiFromHtml:function(e){return t.Service.Emoji.parseEmojiFromHtml(e)},onUserMessageSent:function(e){},purchaseSuccess:function(e,d){t.Module.Store.purchaseSuccess(e,d)},purchaseFail:function(){t.Module.Store.purchaseFail()},open:function(e){this.view.open(e)},close:function(){this.view.close()},openStore:function(e){console.log("openStore",e),t.Module.Store.open(e)},closeStore:function(){t.Module.Store.close()},getPackMainIcon:function(e,d){t.Service.Pack.getMainIcon(e,d)},onClickSticker:function(e,t){this.view.handleClickOnSticker((function(d){e.call(t,"[["+d.getAttribute("data-sticker-id")+"]]",d.getAttribute("is-animate"))}))},onClickEmoji:function(e,t){this.view.handleClickOnEmoji(function(d){var n=this.parseEmojiFromHtml(d.innerHTML);e.call(t,n)}.bind(this))},onPurchase:function(e){t.Module.Store.setOnPurchaseCallback(e)}})}(window,window.StickersModule);